Source: [US10003315B2](https://patents.google.com/patent/US10003315B2)

# [US10003315B2](US10003315B2.md) - Voltage sampler driver with enhanced high-frequency gain

## Details

* Date: 2016-01-25
* Inventor: Kandou Labs SA
* Beneficiary: Armin Tajalli

## Other patents

### Backwards
 * US668687A
 * US780883A
 * US3196351A
 * US3636463A
 * US3939468A
 * US4163258A
 * US4181967A
 * US4276543A
 * US4486739A
 * [US4499550A](US4499550A.md)
 * US4722084A
 * US4772845A
 * US4774498A
 * US4864303A
 * US4897657A
 * [US4974211A](US4974211A.md)
 * US5053974A
 * [US5166956A](US5166956A.md)
 * US5168509A
 * US5266907A
 * US5283761A
 * US5287305A
 * [US5412689A](US5412689A.md)
 * US5449895A
 * US5459465A
 * US5511119A
 * US5510736A
 * US5566193A
 * US5599550A
 * US5626651A
 * US5629651A
 * US5659353A
 * US5727006A
 * US5802356A
 * [US5825808A](US5825808A.md)
 * US5875202A
 * US5945935A
 * US5949060A
 * US5982954A
 * US5995016A
 * US5999016A
 * [US6005895A](US6005895A.md)
 * [US6084883A](US6084883A.md)
 * US6119263A
 * US6172634B1
 * US6175230B1
 * US6232908B1
 * US20010006538A1
 * [US6278740B1](US6278740B1.md)
 * US6316987B1
 * US20010055344A1
 * US6346907B1
 * US20020034191A1
 * US20020044316A1
 * US6384758B1
 * US6404820B1
 * US6417737B1
 * US6433800B1
 * [US6452420B1](US6452420B1.md)
 * US20020154633A1
 * US6473877B1
 * US20020163881A1
 * US20020167339A1
 * US6483828B1
 * US20020174373A1
 * US20020181607A1
 * US6509773B2
 * US20030016763A1
 * US20030046618A1
 * [US6556628B1](US6556628B1.md)
 * US20030085763A1
 * US6563382B1
 * JP2003163612A
 * US20030146783A1
 * US6621427B2
 * US20030174023A1
 * US6624699B2
 * US20030185310A1
 * US6650638B1
 * US20030218558A1
 * [US6661355B2](US6661355B2.md)
 * US6664355B2
 * US6690739B1
 * [US6766342B2](US6766342B2.md)
 * US20040146117A1
 * US20040155802A1
 * [US6839429B1](US6839429B1.md)
 * US6839587B2
 * WO2005002162A1
 * US6854030B2
 * US6865236B1
 * US6865234B1
 * US20050063493A1
 * US6927709B2
 * US20050195000A1
 * US20050201491A1
 * US20050213686A1
 * [US6954492B1](US6954492B1.md)
 * US6963622B2
 * US6973613B2
 * US6972701B2
 * US20050270098A1
 * US6976194B2
 * [US6990138B2](US6990138B2.md)
 * US6991038B2
 * [US6999516B1](US6999516B1.md)
 * US20060036668A1
 * US7023817B2
 * US7039136B2
 * US7053802B2
 * US20060120486A1
 * US20060133538A1
 * US20060140324A1
 * US7080288B2
 * US20060159005A1
 * US7082557B2
 * US7085153B2
 * US20060233291A1
 * US7127003B2
 * CN1864346A
 * [US7142612B2](US7142612B2.md)
 * US7142865B2
 * US20070002954A1
 * US7164631B2
 * US7167019B2
 * US20070030796A1
 * US7176823B2
 * [US7180949B2](US7180949B2.md)
 * US20070103338A1
 * US20070121716A1
 * US7231558B2
 * US20070182487A1
 * US20070201546A1
 * US7269212B1
 * US20070263711A1
 * US20070283210A1
 * US20080007367A1
 * US20080012598A1
 * US7335976B2
 * US7336112B1
 * US7339990B2
 * US7346819B2
 * US7348989B2
 * US7356213B1
 * US7358869B1
 * US7362697B2
 * US20080104374A1
 * US7370264B2
 * US7372390B2
 * EP1926267A1
 * [US7389333B2](US7389333B2.md)
 * US20080159448A1
 * US7397302B2
 * US20080192621A1
 * US7456778B2
 * US7462956B2
 * US20080317188A1
 * US7496162B2
 * US20090059782A1
 * US20090115523A1
 * US7535957B2
 * US7539532B2
 * CN101478286A
 * WO2009084121A1
 * US7599390B2
 * US7613234B2
 * US7616075B2
 * US7620116B2
 * [US7633850B2](US7633850B2.md)
 * US7639596B2
 * US20090323864A1
 * US7656321B2
 * US20100046644A1
 * WO2010031824A1
 * US20100081451A1
 * US7694204B2
 * US7697915B2
 * US7698088B2
 * US7706524B2
 * US7706456B2
 * US20100148819A1
 * US20100180143A1
 * US7768312B2
 * US20100215087A1
 * US7787572B2
 * US20100235673A1
 * US7804361B2
 * US7808456B2
 * US20100271107A1
 * US20100283894A1
 * US20100296556A1
 * US7841909B2
 * US7869546B2
 * US7869497B2
 * US20110014865A1
 * US7882413B2
 * US20110028089A1
 * US20110032977A1
 * US7899653B2
 * US20110051854A1
 * US20110074488A1
 * US20110084737A1
 * US7933770B2
 * US20110103508A1
 * US8000664B2
 * US20110228864A1
 * WO2011119359A2
 * US8036300B2
 * US8050332B2
 * US20110268225A1
 * US8055095B2
 * US8064535B2
 * US20110302478A1
 * [US20110299555A1](US20110299555A1.md)
 * US8085172B2
 * US20110317559A1
 * US8106806B2
 * US8149906B2
 * US20120082203A1
 * [US8159376B2](US8159376B2.md)
 * US8180931B2
 * US8185807B2
 * US20120133438A1
 * US8199863B2
 * US8199849B2
 * US20120152901A1
 * US20120161945A1
 * US8218670B2
 * US8233544B2
 * US8245094B2
 * US20120213299A1
 * US8253454B2
 * US8279745B2
 * US8279094B2
 * US20120257683A1
 * US8289914B2
 * US8295250B2
 * US8305247B2
 * US8310389B1
 * US8341492B2
 * US20130013870A1
 * US8359445B2
 * US8365035B2
 * EP2039221B1
 * US8406316B2
 * US8429492B2
 * US8429495B2
 * US20130106513A1
 * US8437440B1
 * US20130114519A1
 * US20130114663A1
 * US8443223B2
 * US8442099B1
 * US20130129019A1
 * US8472513B2
 * US8498368B1
 * US20130202065A1
 * US20130215954A1
 * US8520348B2
 * US8547272B2
 * US20130259113A1
 * US20130271194A1
 * US8578246B2
 * US8588280B2
 * US8588254B2
 * US20130307614A1
 * US8593305B1
 * US20130314142A1
 * US8602643B2
 * US8604879B2
 * US20130346830A1
 * US8620166B2
 * US8638241B2
 * US8643437B2
 * US8649460B2
 * US8649840B2
 * US8649556B2
 * US8674861B2
 * US8718184B1
 * US20140159769A1
 * US8755426B1
 * US20140177696A1
 * US8773964B2
 * US8782578B2
 * US8780687B2
 * US20140266440A1
 * US20140269130A1
 * US8841936B2
 * US8879660B1
 * US8898504B2
 * US8938171B2
 * US8951072B2
 * US20150049798A1
 * US8975948B2
 * US20150070201A1
 * US20150078479A1
 * US8989317B1
 * US9036764B1
 * US20150146771A1
 * US9069995B1
 * US9077386B1
 * US9093791B2
 * US9100232B1
 * US9124557B2
 * US9148087B1
 * US9152495B2
 * US9172412B2
 * US9178503B2
 * US9183085B1
 * US20150333940A1
 * US9197470B2
 * US20150349835A1
 * US20150381232A1
 * US20160020824A1
 * US20160020796A1
 * US20160036616A1
 * US9281785B2
 * [US9288082B1](US9288082B1.md)
 * US9292716B2
 * US9300503B1
 * US9306621B2
 * US9331962B2
 * US9363114B2
 * US9374250B1
 * US9401828B2
 * US20160261435A1
 * US9455765B2
 * US9455744B2
 * US9479369B1
 * US9634797B2
 * US20170310456A1
 * US20170317855A1
 * US20170317449A1
### Forward
 * US20170317855A1
 * US10498305B2
 * US10560293B2
 * US10574487B1
 * US10574370B2
 * US10608847B2
 * US10608849B1
 * US10673548B2
 * US10673608B2
 * US10679716B2
## Abstract

Abstract

Methods and systems are described for receiving, at an input differential branch pair, a set of input signals, and responsively generating a first differential current, receiving, at an input of an offset voltage branch pair, an offset voltage control signal, and responsively generating a second differential current, supplementing a high-frequency component of the second differential current by injecting a high-pass filtered version of the set of input signals into the input of the offset voltage branch pair using a high-pass filter, and generating an output differential current based on the first and second differential currents using an amplifier stage connected to the input differential branch pair and the offset voltage branch pair.



Methods and systems are described for receiving, at an input differential branch pair, a set of input signals, and responsively generating a first differential current, receiving, at an input of an offset voltage branch pair, an offset voltage control signal, and responsively generating a second differential current, supplementing a high-frequency component of the second differential current by injecting a high-pass filtered version of the set of input signals into the input of the offset voltage branch pair using a high-pass filter, and generating an output differential current based on the first and second differential currents using an amplifier stage connected to the input differential branch pair and the offset voltage branch pair.

CROSS-REFERENCES TO PRIORITY AND RELATED APPLICATIONS
This application claims priority to US Provisional Patent Application 62/286,717, filed Jan. 25, 2016, naming Armin Tajalli, entitled “Voltage Sampler Driver with Enhanced High-Frequency Gain,” which is herein incorporated by reference in its entirety for all purposes.
The following references are herein incorporated by reference in their entirety for all purposes:
U.S. Patent Publication 2011/0268225 of U.S. patent application Ser. No. 12/784,414, filed May 20, 2010, naming Harm Cronie and Amin Shokrollahi, entitled “Orthogonal Differential Vector Signaling” (hereinafter “Cronie I”);
U.S. Patent Publication 2011/0302478 of U.S. patent application Ser. No. 12/982,777, filed Dec. 30, 2010, naming Harm Cronie and Amin Shokrollahi, entitled “Power and Pin Efficient Chip-to-Chip Communications with Common-Mode Resilience and SSO Resilience” (hereinafter “Cronie II”);
U.S. Patent Publication 2012/0213229, of U.S. patent application Ser. No. 13/030,027, filed Feb. 17, 2011, naming Harm Cronie, Amin Shokrollahi and Armin Tajalli, entitled “Methods and Systems for Noise Resilient, Pin-Efficient and Low Power Communications with Sparse Signaling Codes” (hereinafter “Cronie III”); and
U.S. Pat. No. 8,718,814, issued May 6, 2014 of U.S. patent application Ser. No. 13/463,742, filed May 3, 2012, naming Harm Cronie and Amin Shokrollahi, entitled “Finite State Encoders and Decoders for Vector Signaling Codes” (hereafter called “Cronie IV”).
U.S. Pat. No. 9,300,503, issued Mar. 29, 2016 of U.S. patent application Ser. No. 13/842,740, filed Mar. 15, 2013, naming Brian Holden, Amin Shokrollahi and Anant Singh, entitled “Methods and Systems for Skew Tolerance in and Advanced Detectors for Vector Signaling Codes for Chip-to-Chip Communication”, (hereinafter identified as “Holden I”);
U.S. Pat. No. 9,077,386, issued Jul. 7, 2015 of U.S. patent application Ser. No. 13/603,107, filed Sep. 9, 2012, naming Brian Holden and Amin Shokrollahi, entitled “Methods and Systems for Selection of Unions of Vector Signaling Codes for Power and Pin Efficient Chip-To-Chip Communication” (hereinafter called “Holden II”).
U.S. Pat. No. 8,989,317, issued Mar. 24, 2015 of U.S. patent application Ser. No. 13/671,426, filed Nov. 7, 2012, naming Brian Holden and Amin Shokrollahi, entitled “Crossbar Switch Decoder for Vector Signaling Codes” (hereinafter called “Holden III”).
U.S. Provisional Patent Application 61/839,360, filed Jun. 23, 2013, naming Amin Shokrollahi, entitled “Vector Signaling with Reduced Receiver Complexity” (hereinafter “Shokrollahi I”);
U.S. Provisional Patent Application No. 61/839,360, filed Jun. 23, 2013, naming Amin Shokrollahi, entitled “Vector Signaling Codes with Reduced Receiver Complexity”, hereinafter identified as [Shokrollahi II].
U.S. Provisional Patent Application No. 61/946,574, filed Feb. 28, 2014, naming Amin Shokrollahi, Brian Holden, and Richard Simpson, entitled “Clock Embedded Vector Signaling Codes”, hereinafter identified as [Shokrollahi III].
U.S. Pat. No. 9,288,082, issued Mar. 15, 2016 of U.S. patent application Ser. No. 13/895,206, filed May 15, 2013, naming Roger Ulrich and Peter Hunt, entitled “Circuits for Efficient Detection of Vector Signaling Codes for Chip-to-Chip Communications using Sums of Differences”, hereinafter identified as [Ulrich I].
The following additional references to prior art have been cited in this application:
“The StrongARM Latch, Behzad Razavi“,” IEEE Solid-State Circuits Magazine, Spring 2015, pp. 12-17, DOI 10.1109/MSSC2015.2418155, hereinafter identified as [Razavi].
“A Double-Tail Latch-Type Voltage Sense Amplifier with 18 ps Setup+Hold Time,” Analog Techniques and PLLs, Feb. 13, 2007, pp 314-315, 605, hereinafter identified as [Schinkel].
BACKGROUND
In communication systems, information may be transmitted from one physical location to another. Furthermore, it is typically desirable that the transport of this information is reliable, is fast and consumes a minimal amount of resources. One of the most common information transfer mediums is the serial communications link, which may be based on a single wire circuit relative to ground or other common reference, multiple such circuits relative to ground or other common reference, or multiple circuits used in relation to each other. An example of the latter utilizes differential signaling (DS). Differential signaling operates by sending a signal on one wire and the opposite of that signal on a paired wire; the signal information is represented by the difference between the wires rather than their absolute values relative to ground or other fixed reference.
Differential signaling enhances the recoverability of the original signal at the receiver, over single ended signaling (SES), by cancelling crosstalk and other common-mode noise, but a side benefit of the technique is that the Simultaneous Switching Noise (SSN) transients generated by the two signals together is nearly zero; if both outputs are presented with an identical load, the transmit demand on its power supply will be constant, regardless of the data being sent. Any induced currents produced by terminating the differential lines in the receiver will similarly cancel out, minimizing noise induction into the receiving system.
There are a number of signaling methods that maintain the desirable properties of DS while increasing pin-efficiency over DS. Many of these attempts operate on more than two wires simultaneously, using binary signals on each wire, but mapping information in groups of bits.
Vector signaling is a method of signaling. With vector signaling, pluralities of signals on a plurality of wires are considered collectively although each of the plurality of signals may be independent. Each of the collective signals is referred to as a component and the number of plurality of wires is referred to as the “dimension” of the vector. In some embodiments, the signal on one wire is entirely dependent on the signal on another wire, as is the case with DS pairs, so in some cases the dimension of the vector may refer to the number of degrees of freedom of signals on the plurality of wires instead of the number of wires in the plurality of wires.
With binary vector signaling, each component takes on a coordinate value (or “coordinate”, for short) that is one of two possible values. As an example, eight SES wires may be considered collectively, with each component/wire taking on one of two values each signal period. A “code word” of this binary vector signaling is one of the possible states of that collective set of components/wires. A “vector signaling code” or “vector signaling vector set” is the collection of valid possible code words for a given vector signaling encoding scheme. A “binary vector signaling code” refers to a mapping and/or set of rules to map information bits to binary vectors.
With non-binary vector signaling, each component has a coordinate value that is a selection from a set of more than two possible values. A “non-binary vector signaling code” refers to a mapping and/or set of rules to map information bits to non-binary vectors.
Examples of vector signaling methods are described in Cronie I, Cronie II, Cronie III, and Cronie IV.
While non-binary vector signaling methods can provide substantial improvements regarding the tradeoff of pin-efficiency, power efficiency and noise resilience as compared to traditional signaling methods, there are some applications wherein additional improvements are possible.
BRIEF SUMMARY
Methods and systems are described for an apparatus including a voltage sampler driver for generating an output differential current from at least a first and a second differential current, the voltage sampler driver including an input differential branch pair for receiving a set of input signals, each branch of the differential branch pair including one or more transistors for generating the first differential current and an offset voltage branch pair for receiving, at an input, an offset voltage control signal, each branch of the offset differential branch pair including one or more transistors for generating the second differential current. The apparatus further includes an amplifier stage connected to the voltage sampler driver, the amplifier stage for generating a differential output voltage based on the output differential current, and a high-pass filter for supplementing a high-frequency component of the second differential current by injecting a high-pass filtered version of the set of input signals into the input of the offset voltage branch pair.
In some embodiments, the voltage sampler driver further includes respective tail current sources, the respective tail current sources periodically enabling the input differential branch pair and offset differential branch pair. In some embodiments, the respective tail current sources are periodically enabled according to an input clock signal. In some embodiments, current magnitudes of the respective tail current sources are independently tunable.
In some embodiments, the amplification stage includes a pair of load resistors for generating a differential output voltage based on the differential current drawn.
In some embodiments, the amplification stage includes an active device. In some embodiments, the active device is a MOS device. In some embodiments, the MOS device is periodically enabled to implement a discrete time domain integrator.
In some embodiments, the set of input signals correspond to symbols of a codeword of an orthogonal-differential vector signaling code (ODVS). In some embodiments, the set of input signals correspond to symbols of a codeword of a permutation modulation (PM) code.
In some embodiments, a first branch of the input differential branch pair comprises at least two transistors connected in parallel. In some embodiments, a first branch of the offset voltage branch pair comprises a number of transistors equal to a number of transistors in the first branch of the input differential branch pair.
In some embodiments, each branch of the input differential branch pair and each branch of the offset correction branch pair comprise a single transistor. In some embodiments, each transistor in the input differential branch pair and the offset voltage branch pair has a weight associated with transistor characteristics. In some embodiments, each weight is determined by a corresponding value of a row of an orthogonal matrix.
In some embodiments, the input differential branch pair comprises a frequency-selective impedance connected at a common node connecting the pair of branches in the input differential branch pair. In some embodiments, the frequency-selective impedance comprises a resistor-capacitor network.
In some embodiments, the apparatus further includes a multi-input comparator (MIC) for providing the set of input signals as a differential input signal. In some embodiments, the input differential signal represents a combination of a plurality of symbols of a codeword.
In some embodiments, the amplifier stage includes an integrator circuit for generating a differential output voltage based on the differential currents. In some embodiments, the integrator is a discrete time integrator with periodically enabled load devices. In some embodiments, a single wire of the differential voltage output represents a single-ended output. In some embodiments, the amplifier is a voltage mode amplifier.
In some embodiments, the apparatus further includes a comparator for forming a single-ended output by slicing the differential voltage output.
In some embodiments, the offset voltage control signal accounts for an offset error introduced by components of the voltage sampler driver and/or the amplifier stage. In some embodiments, the voltage sampler driver includes NMOS transistors. In some embodiments, the voltage sampler driver includes PMOS transistors.
In some embodiments, the offset voltage control signal represents an arbitrary reference voltage.
In some embodiments, the amplifier stage includes a pair of load resistors for generating the differential output voltage based on the output differential current. In some embodiments the amplifier stage further includes a pair of capacitors, each capacitor connected between one terminal of a corresponding load resistor and ground. In some embodiments, the pair of load resistors are tunable. In some embodiments, the amplifier stage further includes an adjustable current tail source.
In some embodiments, a product of a current magnitude of the adjustable current tail source and an impedance magnitude of one of the load resistors is constant, and the pair of load resistors and the tunable current source have a bandwidth control input to adjust bandwidth. In alternative embodiments, a product of a current magnitude of the tunable current tail source and an impedance magnitude of one of the load resistors is not constant, the pair of load resistors and the current source having a power control input to adjust power consumption.
In some embodiments, each tunable load resistor includes a plurality of resistors in a parallel network, each resistor of the plurality having a corresponding switch connected between the resistor and a common node of the parallel network, and wherein each switch connects/disconnects the resistor from the parallel network based on a respective control signal.
This Brief Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This Brief Summary is not intended to identify key or essential features of the claimed subject matter, nor is it intended to be used as an aid in determining the scope of the claimed subject matter. Other objects and/or advantages of described embodiments will be apparent to one of ordinary skill in the art upon review of the Detailed Description and the included drawings.

BRIEF DESCRIPTION OF THE DRAWINGS
Various embodiments in accordance with the present disclosure will be described with reference to the drawings. Same numbers are used throughout the disclosure and figures to reference like components and features.
 FIG. 1 depicts a communications system in accordance with some embodiments.
 FIGS. 2A and 2B are schematic diagrams of a multi-input comparator (MIC) in accordance with some embodiments.
 FIGS. 3A and 3B depicts a multi-input comparator with input weights as defined by row 3 of the matrix of Eqn. 4, with and without equalization, respectively, in accordance with some embodiments.
 FIG. 4 is a block diagram of a Glasswing receiver, in accordance with some embodiments.
 FIG. 5 is a block diagram of a MIC with tunable bandwidth (BW) connected to a voltage sampler driver and amplifier stage, in accordance with some embodiments.
 FIG. 6 is an alternative block diagram of a MIC connected to a voltage sampler driver and amplifier stage, in accordance with some embodiments.
 FIG. 7 is a schematic of the voltage sampler driver, in accordance with some embodiments.
 FIG. 8 is a schematic of a multi-input voltage-sampler driver, in accordance with some embodiments.
 FIG. 9 is a flowchart of a process, in accordance with some embodiments.
 FIG. 10 depicts a first configuration of a MIC/Offset correction combination circuit, in accordance with some embodiments.
 FIG. 11 depicts a second configuration of a MIC/Offset correction combination circuit, in accordance with some embodiments.
 FIG. 12 depicts a third configuration of a MIC/Offset correction combination circuit, in accordance with some embodiments.
 FIG. 13 depicts an amplifier with tunable bandwidth (BW), in accordance with some embodiments.
 FIG. 14 depicts a tunable impedance, in accordance with some embodiments.
 FIG. 15 depicts a voltage sampler driver connected to a double-tail latch, in accordance with some embodiments.
 FIG. 16 depicts a voltage sampler driver connected to a StrongARM latch, in accordance with some embodiments.
 FIG. 17 depicts a schematic in accordance with some embodiments.
 FIGS. 18, 19, and 20 illustrate simulated results of systems with and without high-frequency injection for a 12 mm, 24 mm, and 70 mm channel, respectively.

DETAILED DESCRIPTION
 FIG. 1 illustrates a communication system in accordance with some embodiments employing a vector signaling code. Source data to transmitter 110, herein illustrated as S0, S1, S2, S3, S4 enters as a source data word 100 into encoder 112. The size of the source data word may vary and depends on the parameters of the vector signaling code. The encoder 112 generates a codeword of the vector signaling code for which the system is designed. In operation, the codeword produced by encoder 112 is used to control PMOS and NMOS transistors within driver 118, generating two, three, or more distinct voltages or currents on each of the N communication wires 125 of communications channel 120, to represent the N symbols of the codeword. In the embodiment of FIG. 1, the size of the source data word is shown as five bits and the codeword size is six symbols. Thus, communications channel 110 is shown as being comprised of six signal wires 125, each transporting one codeword symbol. One familiar with the encoding arts may also describe this code as having a block length of six (i.e. producing an output word of six symbols) and a code size of 32 (i.e. having 32 distinct codewords, sufficient to encode 5 binary bits of data.)
Within communications receiver 130, detector 132 reads the voltages or currents on wires 125, possibly including amplification, frequency compensation, and common mode signal cancellation. In the present example, the received results 140, herein shown as R0, R1, R2, R3, R4, are provided directly by detector 132, without need of optional decoder 138.
As will be readily apparent, different codes may be associated with different block sizes and different codeword sizes; for descriptive convenience and without implying limitation, the example of FIG. 1 illustrates a system using an ODVS code capable of encoding five binary bit values for transmission over six wires, a so-called 5b6w code.
Depending on which vector signaling code is used, there may be no decoder, or no encoder, or neither a decoder nor an encoder. For example, for the 8b8w code disclosed in [Cronie II], both encoder 112 and decoder 138 exist. On the other hand, for the 5b6w code of the present example, an explicit decoder is unnecessary, as the system may be configured such that detector 132 generates the received results 140 directly.
The operation of the communications transmitter 110 and communications receiver 130 have to be completely synchronized in order to guarantee correct functioning of the communication system. In some embodiments, this synchronization is performed by an external clock shared between the transmitter and the receiver. Other embodiments may combine the clock function with one or more of the data channels, as in the well-known Biphase encoding used for serial communications, or other methods described herein.
Advanced Detectors for Vector Signaling
Cronie I, Cronie II, and Holden II describe methods of detecting the symbols that have been sent on a vector signaling link. This disclosure describes several additional methods.
As described by Holden I, a detection mechanism called maximum-likelihood decoding for use where permutation modulation coding is used for chip-to-chip communication. Holden II teaches a decoder using comparators that compare signal values on two communication wires, producing results that inform sorting or ranking actions within such decoder.
The operation of such a comparator can be succinctly described using the “sign” notation, given in the following: sign(x)=+1 if x>0, sign(x)=−1 if x<0, and sign(x) is undefined if x=0. That is, if two values entering a comparator are equal, or close to equal, then the value output by the comparator can be a +1 or a −1, and it is not clear a-priori which of these values is output. Such comparators are called “simple comparators” hereinafter.
In some applications, it may be the case that simple comparators are not sufficient to detect the codewords of a vector signaling code. As an example, consider the union of two PM-codes, one generated as permutations of the vector (1,0,0,−1), and one generated as permutations of the vector (1,1,−1,−1). This union contains 18 codewords, whereas each constituent PM-code contains at most 12 codewords, versus the 16 unique codewords needed to represent a four-bit data value. It is therefore not possible to transmit 4 bits on 4 wires using one PM-code alone, whereas with the union of these two PM-codes a full pin-efficient transmission on 4 wires is possible. Such transmission will be feasible if detection of the codewords can be done with efficient circuitry. It is easy to see that even a full set of 6 simple comparators between pairs of wires is not sufficient to detect a codeword, as those comparisons give no information as to which of the two constituent PM-codes include the received word.
In an application where the values on n communication wires need to be ranked, the number of simple comparators needed is n*(n−1)/2, the number of all un-ordered pairs of integers in the range 1, 2, . . . , n. In some applications this number may be too large. For example, where n is 10, the number of simple comparators used is 45, which may be too large to permit implementation in a given application.
For these reasons, it is important to devise circuits that can be implemented more efficiently than those requiring unacceptable numbers of simple comparators, as well as enabling detection of codewords that would otherwise be undetectable. Such circuits will be described, using an element that hereinafter is termed a multi-input comparator.
A multi-input comparator with coefficients (also referred to as input weighting factors) a0, a1, . . . , am-1 is a circuit that accepts as its input a vector (x0, x1, . . . , xm-1 and outputs

sign(a 0 *x 0 + . . . +a m-1 *x m-1),  (Eqn. 1)

with the definition of the sign-function given above. As such, a simple comparator may be seen to be a two input multi-input comparator with coefficients 1 and −1, hence may be considered to be a special case of a multi-input comparator.
In accordance with at least one embodiment, the coefficients of a multi-input comparator are integers. In such cases, one circuit implementation of a multi-input comparator is given with reference to FIG. 2A, showing coefficients of 2, 4,−1,−2,−3 for the input values x0 through x4 respectively. In this example, each of the twelve input transistors 201 are identical, representing an extended differential input stage sharing current source 202, followed by differential comparator stage 205. As all transistors 201 are identical, the contributions of inputs x0 and x1 to positive summing node 203, and of inputs x2, x3, and x4 to negative summing node 204 are weighted in proportion to the number of input transistors controlled by each such input. Resistors 206 are shown as passive pull-ups on summing nodes 203 and 204; in some embodiments their function will be incorporated in that of differential comparator 205. Assuming sufficiently high gain in differential comparator 205 to obtain a digital result, its output represents the sign( ) operation taken on the difference between positive summing node 203 and negative summing node 204. Thus, the circuit of FIG. 2A implements Eqn. 1, where inputs with positive coefficients are attached to transistors 201 associated with positive summing node 203, and inputs with negative coefficients are attached to transistors 201 associated with negative summing node 204, the coefficient values being represented by the number of identical input transistors 201 used for each input.
Another multi-input comparator also having the same coefficients is illustrated using a simplified notation in FIG. 2B, where for every input the multiplicity of that input in terms of transistors is a given as a number adjacent to the corresponding transistor. In accordance with at least one embodiment, such multiple paralleled transistors for the same input may be implemented as single transistors having an equivalently scaled channel width, transfer current, or comparable functional characteristics as such multiple paralleled transistors. Another embodiment produces equivalent results dynamically, with inputs controlling the amount of charge on capacitors scaled in proportion to input weights, which are then discharged into a summing node.
A multi-input comparator is common mode resistant if the sum of all its coefficients is zero. It is easy to see that if a multi-input comparator is common mode resistant, then simultaneously increasing the values of its inputs by the same amount will not result in any change of the output of the multi-input comparator.
Multi-input comparators may be susceptible to more thermal noise than simple comparators. If the inputs of a multi-input comparator are independently changed by additive white Gaussian noise of mean 0 and variance σ2, the output of the comparator is perturbed by additive white Gaussian noise of mean 0 and variance

σ2(a 0 2 + . . . +a m-1 2)  (Eqn. 2)

If, for a given input (x0, x1, x2, . . . , xm-1) and (y0, y1, y2, . . . , yt-1) the value







α
=





a
0

⁢

x
0


+
…
+


a

m
-
1


⁢

x

m
-
1





(


a
0
2

+
…
+

a

m
-
1

2


)


⩔





(

Eqn
.

 

⁢
3

)







is nonzero, then the error probability of this multi-input comparator is Qσ(a), wherein Qσ(x) is the probability that a normal random variable of mean 0 and variance σ2 has a value larger than or equal to x. Hereinafter we call a the “sensitivity” of the multi-input comparator with respect to its input. Note that by definition sensitivity is nonzero, i.e. if the input of a multi-input comparator is such that the value a as defined in Eqn. 3 is zero, then the sensitivity of the comparator with respect to that particular input is “undefined.”
A set S of multi-input comparators is said to “detect” a vector signaling code C if the following holds: For any two codewords c and d, there is a multi-input comparator in the set S such that the value of that comparator on both c and d is not undefined, and the values are different. This means that the codewords of the vector signaling code are uniquely determined by the outputs of all the multi-input comparators in S when the codeword is used as the input. If a set S of multi-input comparators detects the vector signaling code C, then we define the “minimum sensitivity” of S with respect to C as the minimum sensitivity of any of the comparators applied to any of the codewords, provided that the sensitivity is defined. The notion of minimum sensitivity stands for the maximum amount of thermal noise that can be applied to the codewords while guaranteeing a given detection error probability. Several examples below will illustrate this notion.
In some embodiments, the output of the MICS may not be sliced using a simple two input comparator, rather a differential output voltage may be provided. FIGS. 3A and 3B depicts schematics of MICS with and without EQ, respectively, in accordance with such embodiments. The MIC with EQ of FIG. 3A includes a frequency-selective impedance connecting the sources of all the transistors. In some embodiments as shown, the frequency-selective impedance includes a tunable resistor and a tunable capacitor. In some embodiments the frequency-selective impedance may be used to tune the bandwidth of the MIC. The weights applied to the MICS shown in FIGS. 3A and 3B correspond to row 3 of the matrix shown below in Eqn. 4.
Receivers Using Multi-Input Comparators
Mathematically, the set of multi-input comparators comprising a code receiver may be concisely described using matrix notation, with the columns of the matrix corresponding to consecutive elements of input vector (x0, x1, . . . , xm-1) i.e. the plurality of signal conductor or wire inputs carrying the vector signaling code, and each row of the matrix corresponding to the vector defining a particular multi-input comparator and its output. In this notation, the value of matrix element corresponds to the weight vector or set of scaling factors applied to that column's input values by that row's multi-input comparator.
The matrix of Eqn. 4 describes one such set of multi-input comparators comprising a code receiver.










1


1


1


1


1


1




1



-
1



0


0


0


0





1
/
2




1
/
2




-
1



0


0


0




0


0


0


1



-
1



0




0


0


0



1
/
2




1
/
2




-
1






1
/
3




1
/
3




1
/
3





-
1

/
3





-
1

/
3





-
1

/
3




 




(

Eqn
.

 

⁢
4

)







In this embodiment, six input wires, represented by the six matrix columns, are processed by five multi-input comparators represented by matrix rows 2-6. For purposes to be subsequently described, the first matrix row is composed of all “1” values, creating a square 6×6 matrix. The matrix described by Eqn. 4 will herein be referred to as a Glasswing Receiver matrix.
As used herein, a matrix M such as that of Eqn. 4 is called “orthogonal” if MTM=D that is, if the product of the matrix and its transpose is a diagonal matrix having non-zero values only on its diagonal. This is a weaker definition than commonly used, where the result is be the identity matrix, i.e. having diagonal values equal to 1. Matrix M may be normalized to satisfy the stronger conventional orthogonality requirement, but as will subsequently be described such normalization is neither necessary nor desirable in practice.
Functionally, orthogonality requires that the vector of weights in a row representing a multi-input comparator be orthogonal to all other rows, and that each row representing a multi-input comparator sums to zero (since it is orthogonal to the common mode all 1's codeword). As this implies the comparator outputs are also orthogonal (and therefore independent,) they represent distinct communications modes, herein described as “sub-channels” of the Vector Signaling Code communications system.
Given this modal interpretation, the initial row of the matrix may be seen to represent the common-mode communications channel over the transmission medium. As it is desirable in a practical system for the receiver to have common-mode rejection, the first row is set to all “1” values, maximizing the common mode contribution of each wire input to this one matrix row. As by definition all rows of the matrix are orthogonal, it follows that no other matrix row (i.e. no receiver output) may then be impacted by common mode signals. Embodiments having such common mode rejection need not implement a physical comparator corresponding to the first row of their descriptive matrix.
For avoidance of confusion, it is noted that all data communications in an ODVS system, including the state changes representing signals carried in sub-channels, are communicated as codewords over the entire channel. An embodiment may associate particular mappings of input values to codewords and correlate those mappings with particular detector results, as taught herein and by [Holden I] and [Ulrich I], but those correlations should not be confused with partitions, sub-divisions, or sub-channels of the physical communications medium itself. Similarly, the concept of ODVS sub-channels is not limited by the example embodiment to a particular ODVS code, transmitter embodiment, or receiver embodiment. Encoders and/or decoders maintaining internal state may also be components of some embodiments. Sub-channels may be represented by individual signals, or by states communicated by multiple signals.
Generating ODVS Codes Corresponding to a Receiver Matrix
As described in [Cronie I] and [Cronie II], an Orthogonal Differential Vector Signaling code may be constructed from a generator matrix by multiplication of an input modulation vector of the form (0, a1, a2, . . . an) by the matrix M. In the simplest case, each ai of this vector is the positive or negative of a single value, as example ±1, representing one bit of transmitted information.
Given the understanding of M as describing the various communications modes of the system, it may readily be seen that multiplication of the matrix by such an input vector comprises excitation of the various modes by the a1, of that vector, with the zeroth mode corresponding to common mode transmission not being excited at all. It will be obvious to one familiar with the art that transmission energy emitted in the common mode is both unnecessary and wasteful in most embodiments. However, in at least one embodiment, a nonzero amplitude for the common mode term is used to provide a nonzero bias or baseline value across the communications channel.
It also may be seen that the various codewords of the code generated using this method represent linear combinations of the various orthogonal communication modes. Without additional constraints being imposed (e.g., for purposes of implementation expediency,) this method results in systems capable of communicating N−1 distinct sub-channels over N wires, typically embodied as a N−1 bit/N wire system. The set of discrete codeword values needed to represent the encoded values is called the alphabet of the code, and the number of such discrete alphabet values is its alphabet size.
As a further example, the code generated by this method from the matrix of Eqn. 4 is shown in Table 1.



 
 
 
 
 
TABLE 1
 
 
 
 
 
±[1, ⅓, −⅓, −1, −⅓, ⅓]
±[1, ⅓, −⅓, ⅓, −1, −⅓]
 
 
±[⅓, 1, −⅓, −1, −⅓, ⅓]
±[⅓, 1, −⅓, ⅓, −1, −⅓]
 
 
±[⅓, −⅓, 1, −1, −⅓, ⅓]
±[⅓, −⅓, 1, ⅓, −1, −⅓]
 
 
±[−⅓, ⅓, 1, −1, −⅓, ⅓]
±[−⅓, ⅓, 1, ⅓, −1, −⅓]
 
 
±[1, ⅓, −⅓, −1, ⅓, −⅓]
±[1, ⅓, −⅓, ⅓, −⅓, −1]
 
 
±[⅓, 1, −⅓, −1, ⅓, −⅓]
±[⅓, 1, −⅓, ⅓, −⅓, −1]
 
 
±[⅓, −⅓, 1, −1, ⅓, −⅓]
±[⅓, −⅓, 1, ⅓, −⅓, −1]
 
 
±[−⅓, ⅓, 1, −1, ⅓, −⅓]
±[−⅓, ⅓, 1, ⅓, −⅓, −1]
 
 
 
 







As may be readily observed, the alphabet of this code consists of the values +1, +⅓,−⅓, 1, thus this is a quaternary code (e.g. having an alphabet size of four.) This code will subsequently be described herein as the 5b6w or “Glasswing” code, and its corresponding receive matrix of Eqn. 4 as the “Glasswing receiver”.
An embodiment of the Glasswing receiver as defined by the matrix of Eqn. 4 is shown in FIG. 4. The six input wires are w0 through w5, and the five sub-channel outputs are S0 through S5. In the drawing convention used here, each of the inputs of the multiple-input comparators 410 through 450 are identified by a weight, representing the relative contribution of that input to the final result output, as defined by the matrix rows of Eqn. 4 defining each MIC. Thus, 410 and 430 may be seen to be conventional dual input differential comparators, each having one positive and one negative input of equal and opposite weight. Comparators 420 and 440 each have two positive inputs each contributing one half to the total positive value, and one input contributing the entire negative value. Comparator 450 has three inputs each contributing one third to the total positive value, and three inputs each contributing one third to the total negative value. Although the 5 subchannel outputs S0-S4 are denoted with a single line, it should be noted that in many embodiments, each subchannel output may be a differential output.
 FIG. 5 depicts a block diagram of an embodiment using a BW-tunable MIC 520, connected to a voltage sampler driver and amplifier stage (also referred to as the sampler/equalizer) 530, in accordance with some embodiments. Such a design offers various advantages. First, conventionally, the DC gain of a CTLE is adjusted to achieve the desired equalization. In the apparatus shown in FIG. 5, power dissipation of the CTLE remains fixed even if the channel characteristics are good. The sampler/equalizer circuit provides a degree of freedom such that the apparatus may consume less power when the channel characteristics are good. In some embodiments, both equalization and power dissipation may be calibrated based on channel loss. This is something very challenging to do with the conventional architectures. That is, in conventional architectures, an extra CTLE stage may need to be switched in/out based on the particular channel response, which may be challenging. Architectures described herein that utilize a separate BW-tunable MIC 520 provide adjustable power dissipation and equalization in a straightforward manner. In some embodiments, an architecture comprises a BW-tunable MIC 520 followed by the proposed equalizer/sampler 530. In some embodiments, tuning the BW of a CTLE or MIC includes adjusting the frequency-selective impedance and the magnitude of the tail source current. In some embodiments, calibrating the equalization includes adjusting the BW of the MIC without touching the equalizer/sampler stage. When less equalization is needed, BW (and hence the bias current) can be reduced, resulting in less power consumption. When the BW of the MIC is reduced, the effective peaking of the path (MIC/equalizer/sampler) is also reduced, providing tunable equalization.
 FIG. 13 depicts a schematic of an amplifier with a tunable BW. As shown, the amplifier includes tunable load impedances 1310 (RL), a load capacitor CL a tunable current source ISS. As will be apparent to one of skill in the art, the BW of the amplifier shown in FIG. 13 is shown in Eqn. 5:







BW
=

1

2
⁢

 

⁢
π
⁢

 

⁢

R
L

⁢

C
L







(

Eqn
.

 

⁢
5

)







To adjust the BW of the amplifier shown in FIG. 13, RL·ISS may be fixed, and the BW may be adjusted by changing RL and ISS inversely (i.e. as RL is increased, ISS is decreased, and vice versa). This will keep the gain constant while tuning BW. In such embodiments, power consumption may be adjusted. A low power consumption amplifier may be designed by increasing RL while decreasing ISS, at the cost of a reduced BW. An example schematic of a possible tunable RL is shown in FIG. 14. As shown, FIG. 14 includes multiple resistors R1, R2, R3, . . . , Rn in parallel, each having a series-connected PMOS FETs. In some embodiments, the values of each resistor may be equal, however this should not be considered limiting. In FIG. 14, each PMOS receives a corresponding gate input that may connect the corresponding resistor to the VDD common node. As will be apparent to one of skill in the art, increasing parallel resistance will lower the overall resistance of the circuit. In order to increase resistance, the control signals may be configured (e.g., via a register) to disconnect one or more resistors from the VDD common node. In some embodiments, known resistance values for given combinations of the control signals may be known, and using firmware or a look-up table (LUT), the controls can be provided to the PMOS devices based on a desired load resistance. In some embodiments (constant power embodiments), the same controls may be used in inversely controlling the magnitude of the tunable current source. It should be noted that the differential amplifier configuration is in no way limiting, and that such configurations would work with MICS as well (such as the MICS of FIGS. 3A and 3B, or the MIC with tunable BW 520 shown in FIG. 5). Further, in alternative embodiments, tunable load impedance 1310 does not have to have the configuration shown in FIG. 14, as tunable load impedance 1310 may include a potentiometer, or any other tunable impedance elements known to those of skill in the art. In other alternative embodiments, it may be feasible that the load capacitor CL is tunable to provide additional BW tuning while keeping power consumption constant. It should be noted that the amplifier with tunable BW shown in FIG. 13 is depicted as a differential amplifier, however in some embodiments, the same principles may be implemented in a MIC (such as those depicted in FIGS. 3A and 3B) to create BW-tunable MIC 520.
 FIG. 6 depicts block diagram including sampler 620, which includes amplifier stage 630 and voltage sampler driver 640. As shown, MIC 420 receives a set of input signals w0-w2. MIC 420 provides a differential voltage +/−VIN to voltage sampler driver 640. In some embodiments, voltage sampler driver also receives a clock signal in order to periodically enable the voltage sampler driver. In some embodiments, the voltage sampler driver 640 is configured to draw a differential current through amplifier stage 630. In some embodiments, amplifier stage 630 includes an integrator with positive feedback. In some embodiments, amplifier stage 630 may include a double-tail latch, as shown in FIG. 15. In some embodiments, amplifier stage 630 may include a StrongARM latch, as shown in FIG. 16. As described by [Razavi], the StrongARM latch operates in three phases. In the first phase, the CLK signal is low, the capacitances CL at nodes Outn, Outp, and the capacitances of M1 and M2 are charged to VDD. In the second phase, CLK goes high, and current begins flowing through transistors M1 and M2, and the capacitances of M1 and M2 begin discharging. The current flowing through the transistors (and therefore the speed at which the capacitances of M1 and M2 discharge) is proportional to the inputs INN and INP. In the third phase, as the capacitances of M1 and M2 discharge, the cross-coupled transistors M3 and M4 turn on and CL at nodes Outn and Outp begin to discharge as current through M3 and M4. As one of the CL's discharges faster, either PMOS' M7 and M5 will turn on (if Outp discharges faster) or PMOS' M6 and M8 will discharge (if Outn discharges faster), charging their respective nodes back to VDD, which will increase the rate at which current discharges through the corresponding cross-coupled NMOS M4/M3, respectively. This causes a cascading latch effect to drive Outn and Outp in opposite directions, and the speed at which this process occurs is directly proportional to inputs INN and INP. Thus, for embodiments herein that inject high-pass filtered content into the inputs INN and INP, the process occurs faster. FIG. 16 also includes an offset correction differential pair 645 with high-frequency injection connected in parallel to the input differential pair. A similar configuration is shown in FIG. 15. In some embodiments, voltage sampler driver 640 is configured to draw differential current through the integrator in order to provide a differential voltage output +/−VOUT. In some embodiments, amplifier stage 630 includes load resistors to provide the differential output voltage.
 FIG. 7 depicts a diagram of an apparatus, in accordance with some embodiments. As shown, the apparatus includes voltage sampler driver 640 configured to generate an output differential current from at least a first differential current and a second differential current, the voltage sampler driver including an input differential branch pair configured to receive a set of input signals +/−VIN, each branch of the differential branch pair including one or more transistors for generating the first differential current. The voltage sampler driver 640 further includes an offset voltage branch pair configured to receive an offset voltage control signal +/−VOC, each branch of the offset differential branch pair including one or more transistors for generating the second differential current. The apparatus of FIG. 7 also includes an amplifier stage 630 connected to the voltage sampler driver 640, the amplifier stage 630 configured to generate a differential output voltage +/−VOUT based on the output differential current drawn by periodically enabling the input differential branch pair and the offset differential branch pair. The apparatus further includes a high-pass filter for supplementing a high-frequency component of the second differential current by injecting a high-pass filtered version of the set of input signals via the offset differential branch pair. In some embodiments, the input differential branch pair and the offset differential branch pair are periodically enabled using respective tail current sources (shown as transistors). In some embodiments, the tail current sources are enabled using an input clock signal CK. In some embodiments, the magnitude of the current drawn through the respective tail current sources is independently tunable (by adjusting transistor characteristics, etc.) to allow tuning the frequency-peaking characteristics of the sampler. The presence of the offset differential branch pair facilitates input offset compensation versus, as one example, the capacitive trimming performed to provide offset correction in the latch of [Razavi]. Utilization of the offset differential branch pair to provide additional high-frequency gain further distinguishes such embodiments. In addition, the current ratio between input differential pairs and the offset correction pair can be adjusted to change the DC gain while high frequency gain remains unchanged.
In some embodiments, the offset differential branch pair may be incorporated into a MIC, as shown in FIG. 8. In one embodiment, the set of input signals received by the input differential branch pair of the MIC correspond to symbols of a codeword of a vector signaling code. As shown, a first branch of the input differential branch pair receives symbols on wires w0 and w1, while a second branch of the input differential branch pair receives symbols on wire w2. In some embodiments, as shown, the offset differential branch pair includes a same transistor configuration as the input differential branch pair. In some embodiments, the input differential branch pair and the offset differential branch pair each comprises a pair of transistors. In some embodiments, the input differential branch pair and the offset differential branch pair each include one or more transistors. In some embodiments, each input signal in the input differential branch pair and the offset differential branch pair have weights applied to them (as shown in FIGS. 2A and 2B). In some embodiments, the weights are selected according to a row of an orthogonal matrix (e.g., in FIG. 8, the weights correspond to row 3 of Eqn. 4). In some embodiments, the weight of a given input signal is determined by a number of identical transistors receiving the same input signal (e.g., a weight of 2 as shown in FIG. 8 is represented as two identical transistors, each receiving w2 as an input). In some embodiments, the weight applied to a given input signal is determined by a single transistor having an input weighting factor associated with it. In some embodiments, the input weighting factor may be determined by transistor characteristics.
 FIG. 9 depicts a method 900, in accordance with some embodiments. As shown, method 900 includes receiving, at step 902, a set of input signals at an input differential branch pair, and responsively generating a first differential current at step 904. At step 906, an offset voltage branch pair receives an offset voltage control signal at an input, and responsively generates a second differential current at step 908. At step 910, a high-pass filter supplements a high-frequency component of the second differential current by injecting a high-pass filtered version of the set of input signals into the input of the offset voltage branch pair. At step 912, an amplifier stage connected to the input differential branch pair and the offset voltage branch pair generates an output differential current based on the first and second differential currents. It should be noted that the steps in FIG. 9 are not in any particular order, and that some steps may occur simultaneously. For example, the first and second currents may be generated simultaneously by receiving the set of input signals at the input differential branch pair, and simultaneously receiving the offset voltage control signal and high-frequency version of the input signals at the input of the offset voltage branch pair. The first and second differential currents are then in effect superimposed on each other to form the output differential current.
In some embodiments, generating the first and second differential currents includes enabling corresponding tail current sources for the input differential branch pair and the offset differential branch pair. In some embodiments, the method further includes periodically enabling the respective tail current sources using an input clock signal.
In some embodiments, the method further includes generating a differential output voltage by drawing the output differential current through a pair of load resistors. In some embodiments, each load resistor has a corresponding capacitor connected between one terminal of the load resistor and ground. In some embodiments, the load resistors are tunable. In some embodiments, the amplifier stage further comprises an adjustable current tail source.
In some embodiments, a product of a current magnitude of the adjustable current tail source and an impedance magnitude of one of the load resistors is constant, and the method further includes adjusting the pair of load resistors and the tunable current source to adjust bandwidth. Alternatively, a product of a current magnitude of the tunable current tail source and an impedance magnitude of one of the load resistors is not constant, and the method further includes adjusting the pair of load resistors and the current source to adjust power consumption.
In some embodiments, each tunable load resistor comprises a plurality of resistors in a parallel network, and the method further includes selectably enabling each resistor of the plurality of resistors according to a corresponding switch receiving a corresponding control signal.
 FIG. 10 depicts an example configuration (similar to FIG. 8) of a MIC/Offset voltage correction combination. As shown, FIG. 10 includes a MIC/Input stage and an Offset Voltage Stage. The MIC/Input stage includes transistors (shown with input weighting factors for simplicity, however this is not limiting), load impedances and a current source with a clock (CK) input. FIG. 10 also includes an offset voltage stage similar to the offset voltage stage on the right side of FIG. 7, however there are more than two inputs entering the offset voltage stage. The offset voltage stage shown in FIG. 10 is utilizing a similar advantage shown in the MIC/Input stage of having a single transistor on the right side with a 2x input weighting factor/coefficient. In some embodiments, the transistor input weighting factor is implemented by adjusting physical characteristics of the transistor (e.g., channel width). In alternative embodiments, the input weighting factor is implemented using a number of identical transistors in parallel, each transistor in parallel receiving the same input.
 FIG. 11 depicts a similar embodiment to that of FIG. 10, however the left side of the offset voltage stage is sharing a transistor with a 2× input weighting factor, and the transistor is receiving high frequency content of signals w0 and w1. In some embodiments, the embodiments shown in FIGS. 10 and 11 may be chosen based on design parameters such as device matching (e.g., parasitic input caps and physical caps).
 FIG. 12 depicts a combination of the embodiments shown in FIGS. 10 and 11, which may provide an advantage of having a smaller number of transistors. The embodiments shown in FIGS. 10, 11 and 12 depict MICS without any equalization or tunable bandwidth, however it should be noted that the EQ technique shown in FIG. 3A and BW tuning technique shown in FIGS. 13 and 14 may be utilized in any of the embodiments shown in FIGS. 10, 11 and 12.
 FIG. 17 depicts a schematic in accordance with some embodiments. As shown, the circuit includes a MIC 1705, a DAC (to provide an offset correction voltage) 1710, an RC network, an offset correction pair 1715, an input differential pair 1720, and a summation node 1725. MIC 1705 may take the form of MICS described above. In some embodiments, the RC network corresponds to the RC network of FIG. 7 to inject a high-pass filtered version of the MIC output into the differential current. The input differential pair 1720 (also referred to as the sampler differential pair) is configured to receive the differential output of MIC 1705. In some embodiments, summation node corresponds to a junction of wires in order to provide a summation of currents from input differential pair 1720 and offset correction differential pair 1715.
 FIGS. 18, 19, and 20 illustrate simulated results of a given subchannel (Subch 4) for a 12 mm, 24 mm and 80 mm channel, respectively. The cutoff frequency for the high-pass filter is represented by Eqn. 6 below:







Fc
=

1

2
⁢

 

⁢

π
⁡

(

C
+

C

i
⁢

 

⁢
n



)


⁢
R






(

Eqn
.

 

⁢
6

)







wherein Cin is the input capacitance of the offset correction differential pair. Typical values may include: Cin=2fF, C=9fF, R=2 k−200 k.
 FIG. 18 illustrates simulated results of a 12 mm channel, where R=200 k. As shown, the opening of the eye is increased from 166 mV to 226 mV with the injection of high-pass filtered versions of the MIC output signal.
 FIG. 19 illustrates simulated results of a 24 mm channel, where R=200 k. As shown, the opening of the eye is increased from 136 mV to 172 mV with the injection of high-pass filtered versions of the MIC output signal.
 FIG. 20 illustrates simulated results of a 70 mm channel, where R=2 k. As shown, the opening of the eye is increased from 33 mV to 92 mV with the injection of high-pass filtered versions of the MIC output signal.
The examples presented herein illustrate the use of vector signaling codes for point-to-point wire communications. However, this should not be seen in any way as limiting the scope of the described embodiments. The methods disclosed in this application are equally applicable to other communication media including optical and wireless communications. Thus, descriptive terms such as “voltage” or “signal level” should be considered to include equivalents in other measurement systems, such as “optical intensity”, “RF modulation”, etc. As used herein, the term “physical signal” includes any suitable behavior and/or attribute of a physical phenomenon capable of conveying information. Physical signals may be tangible and non-transitory.
Interpreting a set of signals as selecting an object (e.g., a data object) can include selecting the object based at least in part on the set of signals and/or one or more attributes of the set of signals. Interpreting a set of signals as representing an object (e.g., a data object) can include determining and/or selecting the object based at least in part on a representation corresponding to the set of signals. A same set of signals may be used to select and/or determine multiple distinct objects (e.g., data objects).

The invention claimed is:
 
1. An apparatus comprising:
a voltage sampler driver configured to generate an output differential current from at least a first and a second differential current, the voltage sampler driver comprising:
an input differential branch pair configured to receive a set of input signals, each branch of the differential branch pair comprising one or more transistors configured to generate the first differential current;
an offset voltage branch pair configured to receive, at an input, an offset voltage control signal, each branch of the offset differential branch pair comprising one or more transistors configured to generate the second differential current;

an amplifier stage connected to the voltage sampler driver, the amplifier stage configured to generate a differential output voltage based on the output differential current; and
a high-pass filter configured to supplement a high-frequency component of the second differential current by injecting a high-pass filtered version of the set of input signals into the input of the offset voltage branch pair.


  
2. The apparatus of claim 1, wherein the voltage sampler driver further comprises respective tail current sources, the respective tail current sources configured to enable the input differential branch pair and offset differential branch pair.

  
3. The apparatus of claim 2, wherein the respective tail current sources are periodically enabled according to an input clock signal.

  
4. The apparatus of claim 1, wherein the amplifier stage comprises a pair of load resistors configured to generate the differential output voltage based on the output differential current.

  
5. The apparatus of claim 4, wherein the amplifier stage further comprises a pair of capacitors, each capacitor connected between one terminal of a corresponding load resistor and ground.

  
6. The apparatus of claim 5, wherein the pair of load resistors are tunable.

  
7. The apparatus of claim 6, wherein the amplifier stage further comprises an adjustable tail current source.

  
8. The apparatus of claim 7, wherein a product of a current magnitude of the adjustable tail current source and an impedance magnitude of one of the load resistors is constant, and wherein the pair of load resistors and the tunable current source have a bandwidth control input to adjust bandwidth.

  
9. The apparatus of claim 7, wherein a product of a current magnitude of the adjustable tail current source and an impedance magnitude of one of the load resistors is not constant, the pair of load resistors and the adjustable tail current source having a power control input to adjust power consumption.

  
10. The apparatus of claim 6, wherein each tunable load resistor comprises a plurality of resistors in a parallel network, each resistor of the plurality having a corresponding switch connected between the resistor and a common node of the parallel network, and wherein each switch is configured to connect or disconnect the resistor from the parallel network based on a respective control signal.

  
11. A method comprising:
receiving, at an input differential branch pair, a set of input signals, and responsively generating a first differential current;
receiving, at an input of an offset voltage branch pair, an offset voltage control signal, and responsively generating a second differential current;
supplementing a high-frequency component of the second differential current by injecting a high-pass filtered version of the set of input signals into the input of the offset voltage branch pair using a high-pass filter; and
generating an output differential current based on the first and second differential currents using an amplifier stage connected to the input differential branch pair and the offset voltage branch pair.


  
12. The method of claim 11, wherein generating the first and second differential currents comprises enabling corresponding tail current sources for the input differential branch pair and the offset differential branch pair.

  
13. The method of claim 12, further comprising periodically enabling the respective tail current sources using an input clock signal.

  
14. The method of claim 11, further comprising generating a differential output voltage by drawing the output differential current through a pair of load resistors.

  
15. The method of claim 14, wherein each load resistor has a corresponding capacitor connected between one terminal of the load resistor and ground.

  
16. The method of claim 15, wherein the pair of load resistors are tunable.

  
17. The method of claim 16, wherein the amplifier stage further comprises an adjustable tail current source.

  
18. The method of claim 17, wherein a product of a current magnitude of the adjustable tail current source and an impedance magnitude of one of the load resistors is constant, and wherein the method further comprises adjusting the pair of load resistors and the adjustable tail current source to adjust bandwidth.

  
19. The method of claim 17, wherein a product of a current magnitude of the adjustable tail current source and an impedance magnitude of one of the load resistors is not constant, and wherein the method further comprises adjusting the pair of load resistors and the adjustable tail current source to adjust power consumption.

  
20. The method of claim 16, wherein each tunable load resistor comprises a plurality of resistors in a parallel network, and wherein the method further comprises selectably enabling each resistor of the plurality of resistors according to a corresponding switch receiving a corresponding control signal.
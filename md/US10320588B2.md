Source: [US10320588B2](https://patents.google.com/patent/US10320588B2)

# [US10320588B2](US10320588B2.md) - Vector signaling codes with increased signal to noise characteristics

## Details

* Date: 2014-07-10
* Inventor: Kandou Labs SA
* Beneficiary: Amin Shokrollahi, Roger Ulrich

## Other patents

### Backwards
 * US668687A
 * US780883A
 * US3196351A
 * US3392442A
 * US3636463A
 * US3939468A
 * US3965418A
 * US3970795A
 * US4112264A
 * US4163258A
 * US4181967A
 * US4206316A
 * US4276543A
 * US4414512A
 * US4486739A
 * [US4499550A](US4499550A.md)
 * US4722084A
 * US4772845A
 * US4774498A
 * US4864303A
 * US4897657A
 * [US4974211A](US4974211A.md)
 * US5017924A
 * US5053974A
 * US5150384A
 * [US5166956A](US5166956A.md)
 * US5168509A
 * US5266907A
 * US5283761A
 * US5287305A
 * US5311516A
 * US5331320A
 * [US5412689A](US5412689A.md)
 * US5449895A
 * US5459465A
 * US5461379A
 * US5511119A
 * US5510736A
 * US5553097A
 * US5566193A
 * US5599550A
 * US5626651A
 * US5629651A
 * US5659353A
 * US5727006A
 * US5748948A
 * US5798563A
 * US5802356A
 * [US5825808A](US5825808A.md)
 * US5856935A
 * US5875202A
 * US5881130A
 * US5945935A
 * US5949060A
 * US5982954A
 * US5995016A
 * [US6005895A](US6005895A.md)
 * [US6084883A](US6084883A.md)
 * US6084958A
 * US6097732A
 * US6119263A
 * US6172634B1
 * US6175230B1
 * US6232908B1
 * US20010006538A1
 * [US6278740B1](US6278740B1.md)
 * US6316987B1
 * US20010055344A1
 * US6346907B1
 * US20020034191A1
 * US20020044316A1
 * US6378073B1
 * US6384758B1
 * US20020057592A1
 * US6398359B1
 * US6404820B1
 * US6417737B1
 * US6424630B1
 * US6433800B1
 * [US6452420B1](US6452420B1.md)
 * US20020149508A1
 * US20020154633A1
 * US6473877B1
 * US20020163881A1
 * US20020167339A1
 * US6483828B1
 * US20020174373A1
 * US20020181607A1
 * US6509773B2
 * US20030016770A1
 * US20030016763A1
 * US6522699B1
 * US20030046618A1
 * [US6556628B1](US6556628B1.md)
 * US20030085763A1
 * US6563382B1
 * JP2003163612A
 * US20030146783A1
 * US6621427B2
 * US20030174023A1
 * US6624699B2
 * US20030185310A1
 * US6650638B1
 * US20030218558A1
 * [US6661355B2](US6661355B2.md)
 * US6664355B2
 * US6690739B1
 * US20040027185A1
 * [US6766342B2](US6766342B2.md)
 * US20040146117A1
 * US6772351B1
 * US20040155802A1
 * US20040161019A1
 * US20040169529A1
 * US20040170231A1
 * US6839587B2
 * [US6839429B1](US6839429B1.md)
 * WO2005002162A1
 * US6854030B2
 * US6865236B1
 * US6865234B1
 * US20050057379A1
 * US20050063493A1
 * US6876317B2
 * US20050134380A1
 * US20050149833A1
 * US6927709B2
 * US20050174841A1
 * US20050195000A1
 * US20050201491A1
 * CN1671092A
 * US20050213686A1
 * US20050220182A1
 * [US6954492B1](US6954492B1.md)
 * US6963622B2
 * US6973613B2
 * US20050270098A1
 * US6976194B2
 * [US6990138B2](US6990138B2.md)
 * US6993311B2
 * [US6999516B1](US6999516B1.md)
 * US20060036668A1
 * US7023817B2
 * US7039136B2
 * US20060097786A1
 * US20060103463A1
 * US7053802B2
 * US20060120486A1
 * US20060126751A1
 * US20060133538A1
 * US20060140324A1
 * US7080288B2
 * US20060159005A1
 * US7082557B2
 * US7085153B2
 * US20060233291A1
 * US20060232461A1
 * US7127003B2
 * CN1864346A
 * [US7142612B2](US7142612B2.md)
 * US7142865B2
 * US20060291589A1
 * US20070001723A1
 * US20070002954A1
 * US7164631B2
 * US7167019B2
 * US20070030796A1
 * US7176823B2
 * [US7180949B2](US7180949B2.md)
 * US7199728B2
 * US20070076871A1
 * US20070103338A1
 * US20070121716A1
 * US7231558B2
 * US20070182487A1
 * US20070188367A1
 * US20070204205A1
 * US20070201597A1
 * US20070201546A1
 * US7269212B1
 * US7269130B2
 * US20070263711A1
 * US20070283210A1
 * US20080007367A1
 * US20080012598A1
 * US7336112B1
 * US7335976B2
 * US7339990B2
 * US7346819B2
 * US7348989B2
 * US7356213B1
 * US7358869B1
 * US7362697B2
 * US7366942B2
 * US20080104374A1
 * EP1926267A1
 * [US7389333B2](US7389333B2.md)
 * US20080159448A1
 * US7397302B2
 * US7400276B1
 * US20080192621A1
 * US7462956B2
 * US20080317188A1
 * US7496162B2
 * US20090059782A1
 * US20090115523A1
 * US7535957B2
 * US7539532B2
 * US20090154604A1
 * CN101478286A
 * WO2009084121A1
 * US20090193159A1
 * US20090195281A1
 * US7583209B1
 * US7599390B2
 * US20090262876A1
 * US7613234B2
 * US7616075B2
 * [US7633850B2](US7633850B2.md)
 * US20090316730A1
 * US7639596B2
 * US20090323864A1
 * US7650525B1
 * US7656321B2
 * US20100046644A1
 * WO2010031824A1
 * US20100081451A1
 * US7694204B2
 * US7697915B2
 * US7698088B2
 * US7706524B2
 * US7706456B2
 * US20100148819A1
 * US20100180143A1
 * US7768312B2
 * US20100215112A1
 * US20100215087A1
 * US7787572B2
 * CN101820288A
 * US20100235673A1
 * WO2010104636A1
 * US7804361B2
 * US7808456B2
 * CN101854223A
 * US20100271107A1
 * US20100283894A1
 * US20100296556A1
 * US7841909B2
 * US20100309964A1
 * US20100329325A1
 * US7869546B2
 * US7869497B2
 * US20110014865A1
 * US7882413B2
 * US20110028089A1
 * US20110032977A1
 * US7899653B2
 * US20110051854A1
 * US20110072330A1
 * US20110074488A1
 * US20110084737A1
 * US7933770B2
 * US20110103508A1
 * US8000664B2
 * US20110228864A1
 * WO2011119359A2
 * US8030999B2
 * US8036300B2
 * US8050332B2
 * US20110268225A1
 * US8055095B2
 * US8064535B2
 * US20110286497A1
 * [US20110299555A1](US20110299555A1.md)
 * US20110302478A1
 * US20110317559A1
 * US8106806B2
 * US8149906B2
 * US20120082203A1
 * [US8159376B2](US8159376B2.md)
 * US8180931B2
 * US8185807B2
 * US20120133438A1
 * US8199863B2
 * US8199849B2
 * US20120152901A1
 * US20120161945A1
 * US8218670B2
 * US8233544B2
 * US8245094B2
 * US20120213299A1
 * US8253454B2
 * US8279094B2
 * US8279745B2
 * US20120257683A1
 * US8289914B2
 * US8295336B2
 * US8295250B2
 * US8310389B1
 * US8341492B2
 * US20130013870A1
 * US20130010892A1
 * US8359445B2
 * US8365035B2
 * EP2039221B1
 * US8406316B2
 * US20130088274A1
 * US8429492B2
 * US8429495B2
 * US20130106513A1
 * US8437440B1
 * US20130114663A1
 * US20130114392A1
 * US20130114519A1
 * US8443223B2
 * US8442099B1
 * US20130129019A1
 * US20130147553A1
 * US20130159584A1
 * US8472513B2
 * US20130188656A1
 * US8498368B1
 * US20130195155A1
 * US20130202065A1
 * US20130215954A1
 * US8520348B2
 * US8547272B2
 * US20130259113A1
 * US20130271194A1
 * US8578246B2
 * US8588254B2
 * US20130307614A1
 * US8593305B1
 * US20130314142A1
 * US20130315501A1
 * US8604879B2
 * US8602643B2
 * US20130346830A1
 * US8620166B2
 * US8638241B2
 * US8643437B2
 * US8649460B2
 * US8674861B2
 * US8687968B2
 * US8718184B1
 * US8744012B1
 * US20140159769A1
 * US8755426B1
 * US20140177696A1
 * US8773964B2
 * US8782578B2
 * US8780687B2
 * US8791735B1
 * US20140226734A1
 * US8831440B2
 * US20140254642A1
 * US20140266440A1
 * US20140269130A1
 * US8841936B2
 * US20140286381A1
 * US8879660B1
 * US8898504B2
 * US8938171B2
 * US8951072B2
 * US20150049798A1
 * US20150063494A1
 * US8975948B2
 * US20150070201A1
 * US20150078479A1
 * US8989317B1
 * US20150092532A1
 * US20150117579A1
 * US9036764B1
 * US20150146771A1
 * US9059816B1
 * US9069995B1
 * US9077386B1
 * US9083576B1
 * US9093791B2
 * US9100232B1
 * US20150236885A1
 * US9124557B2
 * US20150249559A1
 * US20150256326A1
 * US9148087B1
 * US9152495B2
 * US9172412B2
 * US9178503B2
 * US9183085B1
 * US20150333940A1
 * US9197470B2
 * US20150381232A1
 * US20150380087A1
 * US20160013954A1
 * US20160020796A1
 * US20160020824A1
 * US9251873B1
 * US20160036616A1
 * US9281785B2
 * [US9288082B1](US9288082B1.md)
 * US9292716B2
 * US9300503B1
 * US9306621B2
 * US9331962B2
 * US9374250B1
 * US9432298B1
 * US20160261435A1
 * US9455744B2
 * US9455765B2
 * US9479369B1
 * US9520883B2
 * US20160380787A1
 * US9634797B2
 * US9710412B2
 * US20170272285A1
 * US20170279642A1
 * US20170310456A1
 * US20170317855A1
 * US20170317449A1
### Forward
 * 
## Abstract

Abstract

Vector signaling codes are synergistically combined with multi-level signaling, the increased alphabet size provided by the multi-level signaling enabling a larger codeword space for a given number of symbols, at the cost of reduced receiver detection margin for each of the multiple signal levels. Vector signaling code construction methods are disclosed in which code construction and selection of multi-level signal levels are coordinated with the design of an associated receive comparator network, wherein modified signal levels encoded and emitted by the transmitter result in increased detection margin at the receive comparators.



Vector signaling codes are synergistically combined with multi-level signaling, the increased alphabet size provided by the multi-level signaling enabling a larger codeword space for a given number of symbols, at the cost of reduced receiver detection margin for each of the multiple signal levels. Vector signaling code construction methods are disclosed in which code construction and selection of multi-level signal levels are coordinated with the design of an associated receive comparator network, wherein modified signal levels encoded and emitted by the transmitter result in increased detection margin at the receive comparators.

This application is a continuation of U.S. application Ser. No. 14/796,443, filed Jul. 10, 2015, naming Amin Shokrollahi and Roger Ulrich, entitled “Vector Signaling Codes with Increased Signal to Noise Characteristics,” which claims priority to U.S. Provisional Patent Application No. 62/023,163, filed Jul. 10, 2014, naming Amin Shokrollahi, entitled “Vector Signaling Codes with Increased Signal to Noise Characteristics” all of which are hereby incorporated by reference herein in their entirety for all purposes.
REFERENCES
The following references are herein incorporated by reference in their entirety for all purposes:
U.S. Patent Publication No. 2011/0268225 of U.S. patent application Ser. No. 12/784,414, filed May 20, 2010, naming Harm Cronie and Amin Shokrollahi, entitled “Orthogonal Differential Vector Signaling” (hereinafter “Cronie I”);
U.S. Patent Publication No. 2011/0302478 of U.S. patent application Ser. No. 13/154,009, filed Jun. 6, 2011, naming Harm Cronie and Amin Shokrollahi, entitled “Error Control Coding for Orthogonal Differential Vector Signaling” (hereinafter “Cronie II”);
U.S. patent application Ser. No. 13/030,027, filed Feb. 17, 2011, naming Harm Cronie, Amin Shokrollahi and Armin Tajalli, entitled “Methods and Systems for Noise Resilient, Pin-Efficient and Low Power Communications with Sparse Signaling Codes” (hereinafter “Cronie III”);
U.S. Patent Publication No. 2011/0299555 of U.S. patent application Ser. No. 13/154,009, filed Jun. 6, 2011, naming Harm Cronie and Amin Shokrollahi, entitled “Error Control Coding for Orthogonal Differential Vector Signaling” (hereinafter “Cronie IV”);
U.S. Provisional Patent Application No. 61/763,403, filed Feb. 11, 2013, naming John Fox, Brian Holden, Ali Hormati, Peter Hunt, John D Keay, Amin Shokrollahi, Anant Singh, Andrew Kevin John Stewart, Giuseppe Surace, and Roger Ulrich, entitled “Methods and Systems for High Bandwidth Chip-to-Chip Communications Interface” (hereinafter called “Fox I”);
U.S. Provisional Patent Application No. 61/773,709, filed Mar. 6, 2013, naming John Fox, Brian Holden, Peter Hunt, John D Keay, Amin Shokrollahi, Andrew Kevin John Stewart, Giuseppe Surace, and Roger Ulrich, entitled “Methods and Systems for High Bandwidth Chip-to-Chip Communications Interface” (hereinafter called “Fox II”);
U.S. Provisional Patent Application No. 61/812,667, filed Apr. 16, 2013, naming John Fox, Brian Holden, Ali Hormati, Peter Hunt, John D Keay, Amin Shokrollahi, Anant Singh, Andrew Kevin John Stewart, and Giuseppe Surace, entitled “Methods and Systems for High Bandwidth Communications Interface” (hereinafter called “Fox III”);
U.S. patent application Ser. No. 13/842,740, filed Mar. 15, 2013, naming Brian Holden, Amin Shokrollahi, and Anant Singh, entitled “Methods and Systems for Skew Tolerance and Advanced Detectors for Vector Signaling Codes for Chip-to-Chip Communication” (hereinafter called “Holden I”);
U.S. patent application Ser. No. 13/895,206, filed May 15, 2013, naming Roger Ulrich and Peter Hunt, entitled “Circuits for Efficient Detection of Vector Signaling Codes for Chip-to-Chip Communications using Sums of Differences” (hereinafter called “Ulrich I”).
U.S. patent application Ser. No. 14/315,306, filed Jun. 25, 2014, naming Roger Ulrich, entitled “Multilevel Driver for High Speed Chip-to-Chip Communications” (hereinafter called “Ulrich II”).
U.S. Provisional Patent Application No. 61/934,804, filed Feb. 2, 2014, naming Ali Hormati and Amin Shokrollahi, entitled “Method for Code Evaluation using ISI Ratio” (hereinafter called “Hormati I”).
U.S. Provisional Patent Application No. 61/992,711, filed May 13, 2014, naming Amin Shokrollahi, entitled “Vector Signaling Code with Improved Noise Margin” (hereinafter called “Shokrollahi I”).
TECHNICAL FIELD
Embodiments discussed herein relate to communications in general and in particular to the transmission of signals capable of conveying information and detection of those signals in chip-to-chip communication.
BACKGROUND
In communication systems, a goal is to transport information from one physical location to another. It is typically desirable that the transport of this information is reliable, is fast and consumes a minimal amount of resources. One common information transfer medium is the serial communications link, which may be based on a single wire circuit relative to ground or other common reference, or multiple such circuits relative to ground or other common reference. A common example uses singled-ended signaling (“SES”). SES operates by sending a signal on one wire, and measuring the signal relative to a fixed reference at the receiver. A serial communication link may also be based on multiple circuits used in relation to each other. A common example of the latter uses differential signaling (“DS”). Differential signaling operates by sending a signal on one wire and the opposite of that signal on a matching wire. The signal information is represented by the difference between the wires, rather than their absolute values relative to ground or other fixed reference.
There are a number of signaling methods that maintain the desirable properties of DS while increasing pin efficiency over DS. Vector signaling is a method of signaling. With vector signaling, a plurality of signals on a plurality of wires is considered collectively although each of the plurality of signals might be independent. Each of the collective signals is referred to as a component and the number of plurality of wires is referred to as the “dimension” of the vector. In some embodiments, the signal on one wire is entirely dependent on the signal on another wire, as is the case with DS pairs, so in some cases the dimension of the vector might refer to the number of degrees of freedom of signals on the plurality of wires instead of exactly the number of wires in the plurality of wires.
With binary vector signaling, each component or “symbol” of the vector takes on one of two possible values. With non-binary vector signaling, each symbol has a value that is a selection from a set of more than two possible values. The set of values that a symbol of the vector may take on is called the “alphabet” of the vector signaling code. A vector signaling code, as described herein, is a collection C of vectors of the same length N, called codewords. Any suitable subset of a vector signaling code denotes a “subcode” of that code. Such a subcode may itself be a vector signaling code.
In operation, the coordinates of the codewords are bounded, and we choose to represent them by real numbers between −1 and 1. The ratio between the binary logarithm of the size of C and the length N is called the pin-efficiency of the vector signaling code.
A vector signaling code is called “balanced” if for all its codewords the sum of the coordinates is always zero. Balanced vector signaling codes have several important properties. For example, as is well-known to those of skill in the art, balanced codewords lead to lower electromagnetic interference (EMI) noise than non-balanced ones. Also, if common mode resistant communication is required, it is advisable to use balanced codewords, since otherwise power is spent on generating a common mode component that is cancelled at the receiver.
Additional examples of vector signaling methods are described in Cronie I, Cronie II, Cronie III, Cronie IV, Fox I, Fox II, Fox III, Holden I, Shokrollahi I, and Hormati I.
BRIEF DESCRIPTION
Vector signaling codes may be synergistically combined with multi-level signaling, the increased alphabet size provided by the multi-level signaling enabling a larger codeword space for a given number of symbols, which in turn permits introduction of additional constraints on construction of the vector signaling code to provide robust transmission results with acceptable throughput. However, introduction of additional signal levels within a fixed transmission amplitude envelope is known to reduce the available signal detection margin for each received signal level, potentially leading to degraded reception.
Vector signaling code construction methods have been disclosed in which code construction is coordinated with design of an associated receive comparator network, such that the system performance of the combination is optimized. Such methods may be extended to incorporate modified multi-level signaling values which provide consistent signal detection margin across the set of receive comparators.

BRIEF DESCRIPTION OF FIGURES
 FIG. 1 shows one embodiment of a multi-input comparator producing a result from the weighted sum of multiple input values.
 FIG. 2 illustrates receive eye openings for binary and ternary signals.
 FIG. 3 is a block diagram in accordance with one embodiment.
 FIG. 4 illustrates two embodiments of a circuit accepting six inputs w0-w5 which are combined in proportions [⅓ ⅓ ⅓ −⅓ −⅓ −⅓ ] respectively, producing differential results outp and outm.
 FIG. 5 shows alternative embodiments of the circuits of FIG. 4.
 FIG. 6 illustrates two embodiments of a circuit accepting three inputs w0, . . . , w2 and not using the three inputs w3, . . . , w5 in combinations representing the proportions [½ ½ −1 0 0 0] respectively, producing differential results outp and outm.
 FIG. 7 shows alternative embodiments of the circuits of FIG. 6.
 FIG. 8 illustrates two embodiments accepting two inputs w0, w1 and not using the four inputs w4,w5 in combinations representing the proportions [1 −1 0 0 0 0] respectively, producing differential results outp and outm.
 FIG. 9 shows one driver embodiment producing the optimized signal levels for a first example code ±(1,−⅕,−⅘),±(−⅕,1,−⅘).
 FIG. 10 shows one driver embodiment generating the signal levels of the code shown in Table 1.
 FIG. 11 shows one driver embodiment generating the signal levels of the 5b6w_7_5_1 code.
 FIG. 12 shows one driver embodiment generating the signal levels of the 5b6w_10_5 code.
 FIG. 13 shows one driver embodiment generating the signal levels of the 8b9w_8_8 code.
 FIG. 14 shows a process in accordance with at least one embodiment.
 FIG. 15 shows a process in accordance with at least one embodiment.
 FIG. 16 is an exemplary embodiment of a communication system.

DETAILED DESCRIPTION
 FIG. 16 is an exemplary embodiment of a communication system as used in this patent application. It comprises an Encoder unit, Drivers, communication wires, a Receiver front-end which may include equalization such as CTLE, a comparator network consisting of one or more comparators wherein each comparator compares a linear combination of values of some of the wires against a fixed reference or against another linear combination of the wire values; additionally, the communication system may comprise a Decoder unit. The bits b0, b1, . . . are fed to the Encoder through another unit, which may be a Serializer in some applications. The output of the Decoder unit are the bits b0, b1, . . . and these bits are forwarded to another hardware unit, which in applications can be as varied as an optical transceiver, a DRAM, a controller, or a processor, to name a few examples. The task of the communication system is to reliably transmit the bits b0, b1, . . . through the communication chain as described here. Typically, the encoder and the decoder units are implemented in digital logic, whereas the other elements of the chain may be implemented in analog circuitry, though this is not crucial for the teachings of this application. Moreover, in some embodiments, the Encoder and/or the Decoder units may not be present, or have their functions subsumed into other elements. As one example, one embodiment incorporates an encoder with a transmit data to codeword mapping chosen such that the corresponding receiver's comparator network produces outputs which directly map to received data bits b0, b1, . . . .
The concept of orthogonal vector signaling is described in [Croniel]. As presented there, an orthogonal differential vector signaling code (or ODVS code) may be obtained via the multiplication

(0,x 2 , . . . ,x n)*M/a  [Eqn. 1]

wherein M is an orthogonal n×n-matrix in which the sum of the columns is zero except at the first position, x2, . . . , xn belong to an alphabet S describing the original modulation of these symbols, and a is a normalization constant which ensures that all the coordinates of the resulting vector are between −1 and +1. For example, in case of binary modulation, the alphabet S may be chosen to be {−1,+1}. In case of ternary modulation, the alphabet S may be chosen as {−1,0,1}, in case of quaternary modulation, the alphabet S may be chosen as {−3,−1,1,3}, and in case of quintary modulation S may be chosen as {−2,−1,0,1,2}. In general, however, it is not necessary that all the xi are modulated by the same alphabet S. The vector (x2, . . . , xn) is often denoted by x henceforth and is called the message.

In at least one embodiment, the multiplication of Eqn. 1 represents a weighted sum of sub-channel code vectors, each sub-channel code vector weighted based on a corresponding antipodal weight of a set of antipodal weights, wherein the sub-channel code vectors are mutually orthogonal, and wherein the sub-channel code vectors represent rows of a scaled-orthogonal matrix, M.
In operation, the matrix M does not need to be orthogonal. It suffices that all its rows (also referred to herein as sub-channel code vectors) are pairwise orthogonal (even if the rows are not of Euclidean norm 1). In the following, we call such matrices s-orthogonal (scaled orthogonal).
Detection of the transmitted signals can be accomplished with the matrix M in the following manner. Each row of M is scaled in such a way as to ensure that the sum of the positive entries in that row is equal to 1. Then the entries of each row of this new matrix D (except for the first) are used as coefficients of a multi-input comparator as defined in [Holden I]. For example, if n=6, the values on the 6 wires (possibly after equalization) are denoted by a, b, c, d, e, f and the row is [1, ½, −1, ½, −1, 0], then the multi-input comparator would calculate the value
        a 2  +   b + d  4  -  (   c + e  2  )      [  Eqn .     ⁢ 2  ]       
and would slice the result to reconstruct the original value in the alphabet S. The set of multi-input comparators defined by matrix D are said to detect the ODVS code defined by M if the collection of comparator outputs unambiguously identifies any message x encoded by M as described above.

Multi-Input Comparators

Following the definition of [Holden I], a multi-input comparator with coefficients a0, a1, . . . , am-1 is a circuit that accepts as its input a vector (x0, x1, . . . , xm-1) and outputs

sign(a 0 *x 0 + . . . +a m-1 *x m-1),  [Eqn. 3]

with the definition of the sign-function being sign(x)=+1 if x>0, sign(x)=−1 if x<0, and sign(x) is undefined if x=0. As such, a simple comparator may be seen to be a two input multi-input comparator with coefficients 1 and −1, hence may be considered to be a special case of a multi-input comparator.

The weighting coefficients a0, a1, . . . , am-1 of a multi-input comparator are rational numbers, and one example implementation is shown as FIG. 1, where input weights of 2, 4, −1, −2, −3 are associated with the input values x0 through x4 respectively, each input weight in this example providing a fractional proportion of the total number of transistors (and thus, a comparable proportion of the output result) on that differential input leg, in this case six on each side. In this example, each of the twelve input transistors 101 are identical, representing an extended differential input stage sharing current source 102, followed by differential comparator stage 105. As all transistors 101 are identical, the contributions of inputs x0 and x1 to positive summing node 103, and of inputs x2, x3, and x4 to negative summing node 104 are weighted in proportion to the number of input transistors controlled by each such input, relative to the total number of transistors 101 associated with node 103 and node 104 respectively. Resistors 106 are shown as passive pull-ups on summing nodes 103 and 104; in some embodiments their function will be incorporated in that of differential comparator 105. Assuming sufficiently high gain in differential comparator 105 to obtain a digital result, its output represents the sign( ) operation taken on the difference between positive summing node 103 and negative summing node 104.
Thus, the circuit of FIG. 1 implements Eqn. 3, where inputs with positive coefficients are attached to transistors 101 associated with positive summing node 103, and inputs with negative coefficients are attached to transistors 101 associated with negative summing node 104, the coefficient values being represented by the ratio of the number of identical input transistors 101 used for each input to the total number of identical input transistors 101 associated with that input node 103 or 104.
As present embodiments primarily addresses higher order modulation, the descriptive convention herein will be to assume that each example of a multi-level comparator comprises multiple appropriately-weighted inputs and summation and difference computations, the comparator output value which (also referenced to herein as the combined input value) is presented as a linear signal to a binary or higher-order slicer or digital comparator (herein, simply called the comparator) detecting the desired multi-valued signal result.
Although scaling, summation, difference, and comparator elements of multi-input comparators may be described discretely for purposes of explanation, practical embodiments may utilize circuit functions combining aspects of multiple such elements, as further described in [Holden I] and [Ulrich I].
Eye Opening
Conventionally, the receiver detection window for receiver slicing operations is described as the “eye opening” of graphs such as illustrated in FIG. 2, showing a time-superimposed representation of all possible received signal patterns (and thus, every possible inter-symbol interference or ISI condition) at the comparator or slicer input. For binary modulation, horizontal “eye” opening 210 represents the available time interval during which a stable result may be sampled, and vertical eye opening 220 represents the detectable signal over noise available to the slicer. For ternary modulated signals, there are two eye openings 231 and 232, corresponding to the signal margins for detection of the three possible signal levels. These smaller vertical openings 231 and 232 versus 220 correspond to higher susceptibility of the signal to communications channel and internal receiver noise with ternary versus binary modulation. Generalizing, the larger the size n, the larger the value of the normalization constant a in Eqn. 1 must be, leading to smaller incremental differences between output levels, and therefore to a smaller measurement window (that is, a smaller vertical “eye”) at the receiver's comparator or slicer.
On the other hand, larger value of n typically lead to a higher pin-efficiency of the signaling scheme, wherein pin-efficiency is defined as the ratio of the transmitted bits on the n-wire interface within a clock cycle, and the number n of wires. For orthogonal differential vector signaling with binary modulation of the input values the pin-efficiency is (n−1)/n, whereas using quaternary modulation of the input values leads to a pin-efficiency of (2n−2)/n. In addition to higher pin-efficiency, orthogonal differential vector signaling has the property that the ISI-ratio as defined in [Hormati I] of the resulting signaling scheme is the same as the ISI-ratio of uncoded signals from the alphabet S. Hence, when binary modulation of the input values is used, the resulting ISI-ratio is the smallest possible value 1, representing the best possible detection capability. Using values of n that are larger than 2 is thus preferable, as this allows to achieve a higher throughput on the communication wires. What is therefore needed is a method to optimize the vertical opening of the resulting eye diagrams in order to achieve the best possible tolerance against thermal and mismatch noise with the resulting reduced signal levels.
As will be apparent to one familiar with the art, the output result from each of the combined input value slicers or digital comparators is dependent on two signal levels; the reference or baseline level for the comparison, and the variable signal value (i.e. the combined signal level.) For descriptive purposes, the absolute value of the difference between these two levels is herein called the “detection margin” for that comparator. The detection margin can be measured, as may be done as the vertical component of a signal quality metric such as a receive eye diagram, or may be calculated or computed as part of a simulation. Larger margins are associated with more reliable results, especially if the variable input signal is accompanied by noise. Similar terms of art include “comparator overdrive” and “comparator input margin”.
Increasing ODVS Eye Opening
The optimization method to increase the vertical opening of the eye diagrams corresponding to the various comparators of an orthogonal differential vector signaling code using an s-orthogonal matrix M starts by assuming that the entry j of the input vector comprises antipodal weights having values −aj and aj, wherein aj is positive. We define the “initial code set” to be the set of antipodal weights represented by a vector

(0,±a 2 ,±a 3 , . . . ,±a n)  [Eqn. 4]

It should be noted that although the values in Eqn. 4 illustrate binary modulation for descriptive convenience, the same procedure described here is also applicable to optimization of vertical eye opening for higher-order modulation, such as PAM-X modulation of the input vectors.
The code obtained from the input set is

(0,±a 2 ,±a 3 , . . . ,±a n)*M/μ  [Eqn. 5]

where

μ=max2≤i≤nΣj=1 n |M ij |a i  [Eqn. 6]

In other words, μ is the codeword symbol normalization constant used to ensure that the coordinates of the codewords are between −1 and +1.
The detection matrix corresponding to the vector signaling code is the matrix comprising rows 2, 3, . . . , n, of M wherein each sub-channel code vector is chi-normalized so that the sum of the positive entries in the row is 1. Each such sub-channel code vector corresponds to a multi-input sub-channel comparator as defined in [Holden I], and the fact that the sum of the positive entries is equal to 1 means that the sub-channel comparator (also referred to herein as a “comparator” or “multi-input comparator”) does not introduce additional gain. For a real number a we define chi(a) to be equal to a if a is positive, and equal to 0 otherwise. Then the chi-normalization constant for row i of M is equal to

Σj=1 nchi(M ij).  [Eqn. 7]

We denote by D the detection matrix corresponding to M. If L denotes the matrix comprising the rows 2, 3, . . . , n of M, then

D=diag(1/Σj=1 nchi(M 2j), . . . ,1/=Σj=1 nchi(M nj))*L  [Eqn. 8]

wherein diag( . . . ) denotes the diagonal matrix with diagonal entries given by the vector in the argument. As can be easily verified by anyone of moderate skill in the art, application of the multi-input sub-channel comparators leads to the values

        ±    a 2  ⁢  s 2    μ ⁢   ∑  j = 1  n  ⁢  chi ⁡  (  M  2 ⁢ j   )       ,  ±    a 3  ⁢  s 3    μ ⁢   ∑  j = 1  n  ⁢  chi ⁡  (  M  3 ⁢ j   )       , … ⁢     ,  ±    a n  ⁢  s n    μ ⁢   ∑  j = 1  n  ⁢  chi ⁡  (  M nj  )       ,     [  Eqn .     ⁢ 9  ]       
wherein si is the squared Euclidean norm of the i-th row of M. The goal is to maximize the minimum of the absolute values of the above expressions.

To check whether this maximum is greater than or equal to a given vertical opening threshold δ, the following Basic Linear Program (BLP) needs to be solved:
Maximize

a 2 + . . . +a n  [Eqn. 10]

Subject to:

For all 1≤j≤n,2≤i≤n:a i s i≥δ*Σl=2 n |M lj |a l*Σk=1 nchi(M ik)   [Eqn. 11]

And

For all 2≤i≤n:a i≥0  [Eqn. 12]

If this BLP is feasible, then the maximum vertical opening threshold is at least δ, and if not, it is definitely strictly smaller than δ. The optimal value of the vertical opening can then be found using a binary search on δ. At each step of the binary search the BLP needs to be solved for the particular value of δ relevant in that step.
EXAMPLES
As a first example embodiment, we start with the case n=3. In this case the only possible choice for the scaled-orthogonal matrix M (up to a permutation of rows/columns and scaling of rows) is
       M =  (    1   1   1     1    - 1    0     1   1    - 2     )      [  Eqn .     ⁢ 13  ]       
and the corresponding detection matrix is








D
=

(



1



-
1



0





1
2




1
2




-
1




)





[

Eqn
.

 

⁢
14

]







Using standard binary modulation of the initial code set, the resulting codewords would equal ±(1,0,−1), ±(0,1,−1). Applying the detection matrix of Eqn. 14 at the receiver, the first receive sub-channel comparator will generate a comparator output value of ±1 while the second receive sub-channel comparator will generate a comparator output value of ±3/2. As the lesser of the two values limits the overall signal to noise limit, the reduction of vertical eye opening compared to differential signaling is therefore 20*log10(2/1)=˜6 dB. Applying the procedure above, the optimal initial code set (i.e. the optimal set of antipodal weights) is the set (0,±⅗,±⅖) which leads to the resulting codewords ±(1,−⅕,−⅘),±(−⅕,1,−⅘). One embodiment of a driver generating these signal levels is shown as FIG. 9.
Applying the detection matrix of Eqn. 14 to this code, it may be observed that both sub-channel comparators will now generate comparator output values of ±6/5, providing an increase in vertical eye opening compared to the previous case of 20*log10 (1.2/1)=˜1.58 dB. As an additional benefit, the termination power (total power required for transmission) using these modified signal levels is less than that of the previous ternary code.
In a second example embodiment, n=5 and the matrix M is
       M =  (    1   1   1   1   1     1    - 1    0   0   0     0   0   1    - 1    0     1   1    - 1     - 1    0     1   1   1   1    - 4     )      [  Eqn .     ⁢ 15  ]       
with a corresponding detection matrix of









(



1



-
1



0


0


0




0


0


1



-
1



0





1
/
2




1
/
2





-
1

/
2





-
1

/
2



0





1
/
4




1
/
4




1
/
4




1
/
4




-
1




)

.




[

Eqn
.

 

⁢
16

]







Using standard binary modulation of the initial code set, the resulting code has an alphabet of size 6 comprising the elements 1, ¾, ¼, −¾, −1. Applying the detection matrix of Eqn. 16, it may be seen that the first three comparators generate comparator output values of ±½, whereas the fourth comparator generates comparator output values of ±5/4. The loss in vertical eye opening compared to differential signaling is therefore 20*log10(2/0.5)=˜12 dB.
Applying the procedure above, the optimal initial code set is calculated to be (0, ± 5/12, ± 5/12, ± 5/12, ±⅙) and the corresponding code is shown in Table 1. One embodiment of a driver generating these signal levels is shown as FIG. 10.



 
 
 
 
 
TABLE 1
 
 
 
 
 
±[1, 1/6, 1/6, −2/3, −2/3]
±[1/6, −2/3, 1, 1/6, −2/3]
 
 
±[1/6, 1, 1/6, −2/3, −2/3]
±[−2/3, 1/6, 1, 1/6, −2/3]
 
 
±[1, 1/6, −2/3, 1/6, −2/3]
±[1/6, −2/3, 1/6, 1, −2/3]
 
 
±[1/6, 1, −2/3, 1/6, −2/3]
±[−2/3, 1/6, 1/6, 1, −2/3]
 
 
 
 







As may be seen, when using this code with the detection matrix of Eqn. 16 all four comparators generate comparator output values of ±⅚. The increase in vertical eye opening compared to the previous code is 20*log10(5/3)=˜4.43 dB. As the termination power of this code is a factor of 10/9 worse than the previous code, one may wish to normalize these results to the same termination power as the original code, in which case the new code still has a vertical eye opening that is 1.581 dB better than the vertical eye opening of the original code.
In a third example embodiment, n=6 and the matrix M is
       M =  (    1   1   1   1   1   1     1    - 1    0   0   0   0     0   0   1    - 1    0   0     0   0   0   0   1    - 1      1   1    - 1     - 1    0   0     1   1   1   1    - 2     - 2     )      [  Eqn .     ⁢ 17  ]       
with a corresponding detection matrix of









(



1



-
1



0


0


0


0




0


0


1



-
1



0


0




0


0


0


0


1



-
1






1
/
2




1
/
2





-
1

/
2





-
1

/
2



0


0





1
/
4




1
/
4




1
/
4




1
/
4





-
1

/
2





-
1

/
2




)

.




[

Eqn
.

 

⁢
18

]







Using standard binary modulation of the initial code set the result, herein called the 5b6w_4_5_1 code, has an alphabet of size 4 comprising the elements 1, ⅓, −⅓, −1 and its codewords are shown in Table 2.



 
 
 
 
 
TABLE 2
 
 
 
 
 
±[1, 1/3, 1/3, −1/3, −1/3, −1]
±[1/3, −1/3, 1, 1/3, −1/3, −1]
 
 
±[1/3, 1, 1/3, −1/3, −1/3, −1]
±[−1/3, 1/3, 1, 1/3, −1/3, −1]
 
 
±[1, 1/3, −1/3, 1/3, −1/3, −1]
±[1/3, −1/3, 1/3, 1, −1/3, −1]
 
 
±[1/3, 1, −1/3, 1/3, −1/3, −1]
±[−1/3, 1/3, 1/3, 1, −1/3, −1]
 
 
±[1, 1/3, 1/3, −1/3, −1, −1/3]
±[1/3, −1/3, 1, 1/3, −1, −1/3]
 
 
±[1/3, 1, 1/3, −1/3, −1, −1/3]
±[−1/3, 1/3, 1, 1/3, −1, −1/3]
 
 
±[1, 1/3, −1/3, 1/3, −1, −1/3]
±[1/3, −1/3, 1/3, 1, −1, −1/3]
 
 
±[1/3, 1, −1/3, 1/3, −1, −1/3]
±[−1/3, 1/3, 1/3, 1, −1, −1/3]
 
 
 
 







When this code is detected using the detection matrix of Eqn. 18, the first four comparators generate comparator output values of ±⅔, whereas the fifth comparator generates a comparator output value of ±1. The loss in vertical eye opening compared to differential signaling is therefore 20*log10(3)=˜9.5 dB. Applying the procedure above, the optimal initial code set is calculated to be (0, ±⅜, ±⅜, ±½, ±⅜, ±¼) and the corresponding code has an alphabet of size 7 given by 1, ½, ¼, 0, −¼, −½, −1. The codewords of this new code herein called 5b6w_7_5_1 code are shown in Table 3. One embodiment of a driver generating these signal levels is shown as FIG. 11.



 
 
 
 
 
TABLE 3
 
 
 
 
 
±[1, 1/4, 1/4, −1/2, 0, −1]
±[1/4, −1/2, 1, 1/4, 0, −1]
 
 
±[1/4, 1, 1/4, −1/2, 0, −1]
±[−1/2, 1/4, 1, 1/4, 0, −1]
 
 
±[1, 1/4, −1/2, 1/4, 0, −1]
±[1/4, −1/2, 1/4, 1, 0, −1]
 
 
±[1/4, 1, −1/2, 1/4, 0, −1]
±[−1/2, 1/4, 1/4, 1, 0, −1]
 
 
±[1, 1/4, 1/4, −1/2, −1, 0]
±[1/4, −1/2, 1, 1/4, −1, 0]
 
 
±[1/4, 1, 1/4, −1/2, −1, 0]
±[−1/2, 1/4, 1, 1/4, −1, 0]
 
 
±[1, 1/4, −1/2, 1/4, −1, 0]
±[1/4, −1/2, 1/4, 1, −1, 0]
 
 
±[1/4, 1, −1/2, 1/4, −1, 0]
±[−1/2, 1/4, 1/4, 1, −1, 0]
 
 
 
 







Using this new code with the detection matrix of Eqn. 18, all comparators except for the third generate comparator output values of ±¾ and the third comparator generates a comparator output value of ±1. The increase in vertical eye opening compared to the previous code is 20*log 10((¾)/(⅔))=˜1 dB. The termination power of the 5b6w_7_5_1 code is about 97% of the termination power of 5b6w_4_5_1 code, so even at a smaller termination power, 5b6w_7_5_1 leads to a bigger vertical eye opening.
In a fourth example embodiment, n=6 and the matrix M is
       M =  (    1   1   1   1   1   1     1    - 1    0   0   0   0     1   1    - 2    0   0   0     0   0   0   1    - 1    0     0   0   0   1   1    - 2      1   1   1    - 1     - 1     - 1     )      [  Eqn .     ⁢ 19  ]       
with a corresponding detection matrix of









(



1



-
1



0


0


0


0





1
/
2




1
/
2




-
1



0


0


0




0


0


0


1



-
1



0




0


0


0



1
/
2




1
/
2




-
1






1
/
3




1
/
3




1
/
3





-
1

/
3





-
1

/
3





-
1

/
3




)

.




[

Eqn
.

 

⁢
20

]







Using standard binary modulation of the initial code set, the resulting code has an alphabet of size 4 comprising the elements 1, ⅓, −⅓, −1 and is herein called the 5b6w_4_5_2 code, with its codewords shown in Table 4.



 
 
 
 
 
TABLE 4
 
 
 
 
 
±[1, 1/3, −1/3, 1/3, −1/3, −1]
±[1, 1/3, −1/3, −1/3, −1, 1/3]
 
 
±[1/3, 1, −1/3, 1/3, −1/3, −1]
±[1/3, 1, −1/3, −1/3, −1, 1/3]
 
 
±[1/3, −1/3, 1, 1/3, −1/3, −1]
±[1/3, −1/3, 1, −1/3, −1, 1/3]
 
 
±[−1/3, 1/3, 1, 1/3, −1/3, −1]
±[−1/3, 1/3, 1, −1/3, −1, 1/3]
 
 
±[1, 1/3, −1/3, −1/3, 1/3, −1]
±[1, 1/3, −1/3, −1, −1/3, 1/3]
 
 
±[1/3, 1, −1/3, −1/3, 1/3, −1]
±[1/3, 1, −1/3, −1, −1/3, 1/3]
 
 
±[1/3, −1/3, 1, −1/3, 1/3, −1]
±[1/3, −1/3, 1, −1, −1/3, 1/3]
 
 
±[−1/3, 1/3, 1, −1/3, 1/3, −1]
±[−1/3, 1/3, 1, −1, −1/3, 1/3]
 
 
 
 







With this code and the detection matrix of Eqn. 20, it may be observed that comparators 1, 3, and 5 generate comparator output values of ±⅔, whereas comparators 2 and 4 generate comparator output values of ±1. The loss in vertical eye opening compared to differential signaling is therefore 20*log10(3)=˜9.5 dB. Applying the procedure above, the optimal initial code set is calculated to be (0, ±⅜, ±¼, ±⅜, ±¼, ±⅜) with the corresponding code having an alphabet of size 10 given by (1, ⅞, ½, ¼, ⅛, −⅛, −¼, −½, −⅞, −1). The resulting codewords are shown in Table 5, with the new code herein called the 5b6w_10_5 code. One embodiment of a driver generating these signal levels is shown as FIG. 12.



 
 
 
TABLE 5
 
 
 
±[1, 1/4, −1/8, 1/4, −1/2, −7/8]
±[1, 1/4, −1/8, −1/4, −1, 1/8]
 
±[1/4, 1, −1/8, 1/4, −1/2, −7/8]
±[1/4, 1, −1/8, −1/4, −1, 1/8]
 
±[1/2, −1/4, 7/8, 1/4, −1/2, −7/8]
±[1/2, −1/4, 7/8, −1/4, −1, 1/8]
 
±[−1/4, 1/2, 7/8, 1/4, −1/2, −7/8]
±[−1/4, 1/2, 7/8, −1/4, −1, 1/8]
 
±[1, 1/4, −1/8, −1/2, 1/4, −7/8]
±[1, 1/4, −1/8, −1, −1/4, 1/8]
 
±[1/4, 1, −1/8, −1/2, 1/4, −7/8]
±[1/4, 1, −1/8, −1, −1/4, 1/8]
 
±[1/2, −1/4, 7/8, −1/2, 1/4, −7/8]
±[1/2, −1/4, 7/8, −1, −1/4, 1/8]
 
±[−1/4, 1/2, 7/8, −1/2, 1/4, −7/8]
±[−1/4, 1/2, 7/8, −1, −1/4, 1/8]
 
 
 







For this code all comparators generate comparator output values of ±¾. The increase in vertical eye opening compared to 5b6w_4_5_2 is 20*log10((¾)/(⅔))=˜1 dB. The termination power of 5b6w_10_5 is about 88% of the termination power of 5b6w_4_5_2, so even at a smaller termination power, 5b6w_10_5 leads to a bigger vertical eye opening.
In a fifth example embodiment n=9, and the matrix M is
       M =  (    1   1   1   1   1   1   1   1   1     1    - 1    0   0   0   0   0   0   0     0   0   1    - 1    0   0   0   0   0     0   0   0   0   1    - 1    0   0   0     0   0   0   0   0   0   1    - 1    0     1   1    - 1     - 1    0   0   0   0   0     0   0   0   0   1   1    - 1     - 1    0     1   1   1   1    - 1     - 1     - 1     - 1    0     1   1   1   1   1   1   1   1    - 8     )      [  Eqn .     ⁢ 21  ]       
with a corresponding detection matrix of









(



1



-
1



0


0


0


0


0


0


0




0


0


1



-
1



0


0


0


0


0




0


0


0


0


1



-
1



0


0


0




0


0


0


0


0


0


1



-
1



0





1
/
2




1
/
2





-
1

/
2





-
1

/
2



0


0


0


0


0




0


0


0


0



1
/
2




1
/
2





-
1

/
2





-
1

/
2



0





1
/
4




1
/
4




1
/
4




1
/
4





-
1

/
4





-
1

/
4





-
1

/
4





-
1

/
4



0





1
/
8




1
/
8




1
/
8




1
/
8




1
/
8




1
/
8




1
/
8




1
/
8




-
1




)

.




[

Eqn
.

 

⁢
22

]







Using standard binary modulation of the initial code set, the resulting code has an alphabet of size 7 composed of the elements (1, ½, ¼, 0, −¼, −½, −1). For this code all the comparators except the generate comparator output values of ±¼ and the last comparator generates a comparator output value of ±9/8.
Applying the procedure above, the optimal initial code set is calculated to be (0,± 3/10,± 3/10,± 3/10,± 3/10,± 3/10,± 3/10,± 3/10,± 1/10) and the corresponding code has an alphabet of size 8 given by (1, ⅘, ⅖, ⅕, −⅕, −⅖, −⅘, −1). This code is herein called 8b9w_8_8 code and its codewords are shown in Table 7. One embodiment of a driver generating these signal levels is shown as FIG. 13.
Using this code with the detection matrix of Eqn. 22 all but the last comparator generate comparator output values of ±⅗, and the last generates a comparator output value of ± 9/10. The increase in vertical opening compared to the non-optimized code is 20*log10((⅗)/(¼))=˜7.6 dB. The termination power of 8b9w_8_8 is about 1.9 times the termination power of the non-optimized code. At equal termination power, 8b9w_8_8 has a vertical opening that is about 2 dB better than the opening of the non-optimized code.
         TABLE 7       ±[1, 2/5, 2/5, −1/5, 2/5, −1/5, −1/5, −4/5, −4/5] ±[2/5, −1/5, −1/5, −4/5, 1, 2/5, 2/5, −1/5, −4/5]   ±[2/5, 1, 2/5, −1/5, 2/5, −1/5, −1/5, −4/5, −4/5] ±[−1/5, 2/5, −1/5, −4/5, 1, 2/5, 2/5, −1/5, −4/5]   ±[1, 2/5, −1/5, 2/5, 2/5, −1/5, −1/5, −4/5, −4/5] ±[2/5, −1/5, −4/5, −1/5, 1, 2/5, 2/5, −1/5, −4/5]   ±[2/5, 1, −1/5, 2/5, 2/5, −1/5, −1/5, −4/5, −4/5] ±[−1/5, 2/5, −4/5, −1/5, 1, 2/5, 2/5, −1/5, −4/5]   ±[1, 2/5, 2/5, −1/5, −1/5, 2/5, −1/5, −4/5, −4/5] ±[2/5, −1/5, −1/5, −4/5, 2/5, 1, 2/5, −1/5, −4/5]   ±[2/5, 1, 2/5, −1/5, −1/5, 2/5, −1/5, −4/5, −4/5] ±[−1/5, 2/5, −1/5, −4/5, 2/5, 1, 2/5, −1/5, −4/5]   ±[1, 2/5, −1/5, 2/5, −1/5, 2/5, −1/5, −4/5, −4/5] ±[2/5, −1/5, −4/5, −1/5, 2/5, 1, 2/5, −1/5, −4/5]   ±[2/5, 1, −1/5, 2/5, −1/5, 2/5, −1/5, −4/5, −4/5] ±[−1/5, 2/5, −4/5, −1/5, 2/5, 1, 2/5, −1/5, −4/5]   ±[1, 2/5, 2/5, −1/5, 2/5, −1/5, −4/5, −1/5, −4/5] ±[2/5, −1/5, −1/5, −4/5, 1, 2/5, −1/5, 2/5, −4/5]   ±[2/5, 1, 2/5, −1/5, 2/5, −1/5, −4/5, −1/5, −4/5] ±[−1/5, 2/5, −1/5, −4/5, 1, 2/5, −1/5, 2/5, −4/5]   ±[1, 2/5, −1/5, 2/5, 2/5, −1/5, −4/5, −1/5, −4/5] ±[2/5, −1/5, −4/5, −1/5, 1, 2/5, −1/5, 2/5, −4/5]   ±[2/5, 1, −1/5, 2/5, 2/5, −1/5, −4/5, −1/5, −4/5] ±[−1/5, 2/5, −4/5, −1/5, 1, 2/5, −1/5, 2/5, −4/5]   ±[1, 2/5, 2/5, −1/5, −1/5, 2/5, −4/5, −1/5, −4/5] ±[2/5, −1/5, −1/5, −4/5, 2/5, 1, −1/5, 2/5, −4/5]   ±[2/5, 1, 2/5, −1/5, −1/5, 2/5, −4/5, −1/5, −4/5] ±[−1/5, 2/5, −1/5, −4/5, 2/5, 1, −1/5, 2/5, −4/5]   ±[1, 2/5, −1/5, 2/5, −1/5, 2/5, −4/5, −1/5, −4/5] ±[2/5, −1/5, −4/5, −1/5, 2/5, 1, −1/5, 2/5, −4/5]   ±[2/5, 1, −1/5, 2/5, −1/5, 2/5, −4/5, −1/5, −4/5] ±[−1/5, 2/5, −4/5, −1/5, 2/5, 1, −1/5, 2/5, −4/5]   ±[2/5, −1/5, 1, 2/5, 2/5, −1/5, −1/5, −4/5, −4/5] ±[−1/5, −4/5, 2/5, −1/5, 1, 2/5, 2/5, −1/5, −4/5]   ±[−1/5, 2/5, 1, 2/5, 2/5, −1/5, −1/5, −4/5, −4/5] ±[−4/5, −1/5, 2/5, −1/5, 1, 2/5, 2/5, −1/5, −4/5]   ±[2/5, −1/5, 2/5, 1, 2/5, −1/5, −1/5, −4/5, −4/5] ±[−1/5, −4/5, −1/5, 2/5, 1, 2/5, 2/5, −1/5, −4/5]   ±[−1/5, 2/5, 2/5, 1, 2/5, −1/5, −1/5, −4/5, −4/5] ±[−4/5, −1/5, −1/5, 2/5, 1, 2/5, 2/5, −1/5, −4/5]   ±[2/5, −1/5, 1, 2/5, −1/5, 2/5, −1/5, −4/5, −4/5] ±[−1/5, −4/5, 2/5, −1/5, 2/5, 1, 2/5, −1/5, −4/5]   ±[−1/5, 2/5, 1, 2/5, −1/5, 2/5, −1/5, −4/5, −4/5] ±[−4/5, −1/5, 2/5, −1/5, 2/5, 1, 2/5, −1/5, −4/5]   ±[2/5, −1/5, 2/5, 1, −1/5, 2/5, −1/5, −4/5, −4/5] ±[−1/5, −4/5, −1/5, 2/5, 2/5, 1, 2/5, −1/5, −4/5]   ±[−1/5, 2/5, 2/5, 1, −1/5, 2/5, −1/5, −4/5, −4/5] ±[−4/5, −1/5, −1/5, 2/5, 2/5, 1, 2/5, −1/5, −4/5]   ±[2/5, −1/5, 1, 2/5, 2/5, −1/5, −4/5, −1/5, −4/5] ±[−1/5, −4/5, 2/5, −1/5, 1, 2/5, −1/5, 2/5, −4/5]   ±[−1/5, 2/5, 1, 2/5, 2/5, −1/5, −4/5, −1/5, −4/5] ±[−4/5, −1/5, 2/5, −1/5, 1, 2/5, −1/5, 2/5, −4/5]   ±[2/5, −1/5, 2/5, 1, 2/5, −1/5, −4/5, −1/5, −4/5] ±[−1/5, −4/5, −1/5, 2/5, 1, 2/5, −1/5, 2/5, −4/5]   ±[−1/5, 2/5, 2/5, 1, 2/5, −1/5, −4/5, −1/5, −4/5] ±[−4/5, −1/5, −1/5, 2/5, 1, 2/5, −1/5, 2/5, −4/5]   ±[2/5, −1/5, 1, 2/5, −1/5, 2/5, −4/5, −1/5, −4/5] ±[−1/5, −4/5, 2/5, −1/5, 2/5, 1, −1/5, 2/5, −4/5]   ±[−1/5, 2/5, 1, 2/5, −1/5, 2/5, −4/5, −1/5, −4/5] ±[−4/5, −1/5, 2/5, −1/5, 2/5, 1, −1/5, 2/5, −4/5]   ±[2/5, −1/5, 2/5, 1, −1/5, 2/5, −4/5, −1/5, −4/5] ±[−1/5, −4/5, −1/5, 2/5, 2/5, 1, −1/5, 2/5, −4/5]   ±[−1/5, 2/5, 2/5, 1, −1/5, 2/5, −4/5, −1/5, −4/5] ±[−4/5, −1/5, −1/5, 2/5, 2/5, 1, −1/5, 2/5, −4/5]   ±[1, 2/5, 2/5, −1/5, −1/5, −4/5, 2/5, −1/5, −4/5] ±[2/5, −1/5, −1/5, −4/5, 2/5, −1/5, 1, 2/5, −4/5]   ±[2/5, 1, 2/5, −1/5, −1/5, −4/5, 2/5, −1/5, −4/5] ±[−1/5, 2/5, −1/5, −4/5, 2/5, −1/5, 1, 2/5, −4/5]   ±[1, 2/5, −1/5, 2/5, −1/5, −4/5, 2/5, −1/5, −4/5] ±[2/5, −1/5, −4/5, −1/5, 2/5, −1/5, 1, 2/5, −4/5]   ±[2/5, 1, −1/5, 2/5, −1/5, −4/5, 2/5, −1/5, −4/5] ±[−1/5, 2/5, −4/5, −1/5, 2/5, −1/5, 1, 2/5, −4/5]   ±[1, 2/5, 2/5, −1/5, −4/5, −1/5, 2/5, −1/5, −4/5] ±[2/5, −1/5, −1/5, −4/5, −1/5, 2/5, 1, 2/5, −4/5]   ±[2/5, 1, 2/5, −1/5, −4/5, −1/5, 2/5, −1/5, −4/5] ±[−1/5, 2/5, −1/5, −4/5, −1/5, 2/5, 1, 2/5, −4/5]   ±[1, 2/5, −1/5, 2/5, −4/5, −1/5, 2/5, −1/5, −4/5] ±[2/5, −1/5, −4/5, −1/5, −1/5, 2/5, 1, 2/5, −4/5]   ±[2/5, 1, −1/5, 2/5, −4/5, −1/5, 2/5, −1/5, −4/5] ±[−1/5, 2/5, −4/5, −1/5, −1/5, 2/5, 1, 2/5, −4/5]   ±[1, 2/5, 2/5, −1/5, −1/5, −4/5, −1/5, 2/5, −4/5] ±[2/5, −1/5, −1/5, −4/5, 2/5, −1/5, 2/5, 1, −4/5]   ±[2/5, 1, 2/5, −1/5, −1/5, −4/5, −1/5, 2/5, −4/5] ±[−1/5, 2/5, −1/5, −4/5, 2/5, −1/5, 2/5, 1, −4/5]   ±[1, 2/5, −1/5, 2/5, −1/5, −4/5, −1/5, 2/5, −4/5] ±[2/5, −1/5, −4/5, −1/5, 2/5, −1/5, 2/5, 1, −4/5]   ±[2/5, 1, −1/5, 2/5, −1/5, −4/5, −1/5, 2/5, −4/5] ±[−1/5, 2/5, −4/5, −1/5, 2/5, −1/5, 2/5, 1, −4/5]   ±[1, 2/5, 2/5, −1/5, −4/5, −1/5, −1/5, 2/5, −4/5] ±[2/5, −1/5, −1/5, −4/5, −1/5, 2/5, 2/5, 1, −4/5]   ±[2/5, 1, 2/5, −1/5, −4/5, −1/5, −1/5, 2/5, −4/5] ±[−1/5, 2/5, −1/5, −4/5, −1/5, 2/5, 2/5, 1, −4/5]   ±[1, 2/5, −1/5, 2/5, −4/5, −1/5, −1/5, 2/5, −4/5] ±[2/5, −1/5, −4/5, −1/5, −1/5, 2/5, 2/5, 1, −4/5]   ±[2/5, 1, −1/5, 2/5, −4/5, −1/5, −1/5, 2/5, −4/5] ±[−1/5, 2/5, −4/5, −1/5, −1/5, 2/5, 2/5, 1, −4/5]   ±[2/5, −1/5, 1, 2/5, −1/5, −4/5, 2/5, −1/5, −4/5] ±[−1/5, −4/5, 2/5, −1/5, 2/5, −1/5, 1, 2/5, −4/5]   ±[−1/5, 2/5, 1, 2/5, −1/5, −4/5, 2/5, −1/5, −4/5] ±[−4/5, −1/5, 2/5, −1/5, 2/5, −1/5, 1, 2/5, −4/5]   ±[2/5, −1/5, 2/5, 1, −1/5, −4/5, 2/5, −1/5, −4/5] ±[−1/5, −4/5, −1/5, 2/5, 2/5, −1/5, 1, 2/5, −4/5]   ±[−1/5, 2/5, 2/5, 1, −1/5, −4/5, 2/5, −1/5, −4/5] ±[−4/5, −1/5, −1/5, 2/5, 2/5, −1/5, 1, 2/5, −4/5]   ±[2/5, −1/5, 1, 2/5, −4/5, −1/5, 2/5, −1/5, −4/5] ±[−1/5, −4/5, 2/5, −1/5, −1/5, 2/5, 1, 2/5, −4/5]   ±[−1/5, 2/5, 1, 2/5, −4/5, −1/5, 2/5, −1/5, −4/5] ±[−4/5, −1/5, 2/5, −1/5, −1/5, 2/5, 1, 2/5, −4/5]   ±[2/5, −1/5, 2/5, 1, −4/5, −1/5, 2/5, −1/5, −4/5] ±[−1/5, −4/5, −1/5, 2/5, −1/5, 2/5, 1, 2/5, −4/5]   ±[−1/5, 2/5, 2/5, 1, −4/5, −1/5, 2/5, −1/5, −4/5] ±[−4/5, −1/5, −1/5, 2/5, −1/5, 2/5, 1, 2/5, −4/5]   ±[2/5, −1/5, 1, 2/5, −1/5, −4/5, −1/5, 2/5, −4/5] ±[−1/5, −4/5, 2/5, −1/5, 2/5, −1/5, 2/5, 1, −4/5]   ±[−1/5, 2/5, 1, 2/5, −1/5, −4/5, −1/5, 2/5, −4/5] ±[−4/5, −1/5, 2/5, −1/5, 2/5, −1/5, 2/5, 1, −4/5]   ±[2/5, −1/5, 2/5, 1, −1/5, −4/5, −1/5, 2/5, −4/5] ±[−1/5, −4/5, −1/5, 2/5, 2/5, −1/5, 2/5, 1, −4/5]   ±[−1/5, 2/5, 2/5, 1, −1/5, −4/5, −1/5, 2/5, −4/5] ±[−4/5, −1/5, −1/5, 2/5, 2/5, −1/5, 2/5, 1, −4/5]   ±[2/5, −1/5, 1, 2/5, −4/5, −1/5, −1/5, 2/5, −4/5] ±[−1/5, −4/5, 2/5, −1/5, −1/5, 2/5, 2/5, 1, −4/5]   ±[−1/5, 2/5, 1, 2/5, −4/5, −1/5, −1/5, 2/5, −4/5] ±[−4/5, −1/5, 2/5, −1/5, −1/5, 2/5, 2/5, 1, −4/5]   ±[2/5, −1/5, 2/5, 1, −4/5, −1/5, −1/5, 2/5, −4/5] ±[−1/5, −4/5, −1/5, 2/5, −1/5, 2/5, 2/5, 1, −4/5]   ±[−1/5, 2/5, 2/5, 1, −4/5, −1/5, −1/5, 2/5, −4/5] ±[−4/5, −1/5, −1/5, 2/5, −1/5, 2/5, 2/5, 1, −4/5]             
Receiver Circuits

As previously mentioned, the multi-input comparator detector circuits described in [Holden I] and [Ulrich I] are advantageously utilized with the described codes. As an example, embodiments of both methods are shown in FIGS. 4-8.
 FIG. 4 illustrates two embodiments of the [Holden I] circuit accepting six inputs w0-w5 which are combined in proportions [⅓ ⅓ ⅓ −⅓ −⅓ −⅓ ] respectively, producing differential results outp and outm. The first embodiment incorporates high-frequency equalization via adjustable or selectable resistor/capacitor elements. The second embodiment does not provide equalization.
The alternative embodiment of FIG. 5 illustrates two embodiments of the [Ulrich I] circuit accepting the same six inputs w0, . . . , w5 which are combined in proportions [⅓ ⅓ ⅓ −⅓ −⅓ −⅓ ] respectively, producing equivalent differential results outp and outm. As in FIG. 4, the first embodiment incorporates high-frequency equalization via adjustable or selectable resistor/capacitor elements, and the second embodiment does not provide equalization.
 FIG. 6 illustrates two embodiments of the [Holden I] circuit accepting three inputs w0-w2 and not using the three inputs w3, . . . , w5 in combinations representing the proportions [½ ½ −1 0 0 0] respectively, producing differential results outp and outm. The first embodiment incorporates high-frequency equalization via adjustable or selectable resistor/capacitor elements. The second embodiment does not provide equalization.
The alternative embodiment of FIG. 7 illustrates two embodiments of the [Ulrich I] circuit accepting the same inputs as FIG. 6 and producing the same producing differential results outp and outm. As in FIG. 6, the first embodiment incorporates high-frequency equalization via adjustable or selectable resistor/capacitor elements, and the second embodiment does not provide equalization.
 FIG. 8 illustrates two embodiments accepting two inputs w0, w1 and not using the four inputs w4, w5 in combinations representing the proportions [1 −1 0 0 0 0]respectively, producing differential results outp and outm. The first embodiment incorporates high-frequency equalization via adjustable or selectable resistor/capacitor elements. The second embodiment does not provide equalization. As one familiar with the art will note, the two circuit topologies of [Holden I] and [Ulrich I] reduce to a single differential stage in this two input case.
Driver Embodiments
Generation of the desired output signal levels described in accordance with at least one embodiment may be obtained using the driver circuit of [Ulrich II]. As specific examples of the approach, driver embodiments capable of generating the particular output signal levels associated with each of the previous examples are illustrated.
 FIG. 9 shows one driver embodiment in accordance with at least one embodiment producing the optimized signal levels determined in the first example embodiment above. Encoder 901 encodes the data to be transmitted using the matrix M of Eqn. 13, and passes the encoded control signal result to the set of output wire drivers 910. As this is a three wire code, there are three instances of 910 shown, herein called a wire driver slice, each taking the appropriate encoded element from 901 and producing the correct signal levels for its output wire.
As is common practice in high-speed communications systems, multiple processing phases may be used to increase throughput of processing-intensive operations such as encoding. Thus, digital multiplexers 911 are shown, taking the individual phase outputs and switching between them to produce a single full wire rate encoded data stream. As will be apparent to one familiar with the art, a single phase omitting the multiplexer to many phases of data supported by wider or deeper multiplexer configurations may be incorporated in this design. Subsequent driver embodiment examples incorporate the same illustrative encoder and multiplexer design, varying only in the width of the resulting output which is determined by the number of individual output wire drivers utilized.
The full wire rate encoded values are presented to digital output drivers 912 which are interconnected by series source resistors 913, 914, 915 to the common output wire producing a digitally controlled analog output. Because each of the series source resistors has a particular predetermined value, the steps produced in this digital-to-analog converter need not be identical. For the particular values illustrated in FIG. 9, the output values are shown in Table 6.



 
 
 
 
 
 
TABLE 6
 
 
 
 
 
Value
Output
Comments
 
 
 
 
 
000
−1
 
 
 
001
−4/5
 
 
010
−2/5
Not used by this code
 
 
011
−1/5
 
 
100
 1/5
 
 
101
 2/5
Not used by this code
 
 
110
 4/5
 
 
111
 1
 
 
 
 







Following good integrated circuit design practices, the value of resistor 913 would preferably be obtained by paralleling six 500 ohm resistors, the value of resistor 914 by paralleling three 500 ohm resistors, and the value of resistor 915 by using a single 500 ohm resistor, all resistors being of identical design, size, and composition.
As taught by [Ulrich II], multiple instances of a wire driver slice such as 910 may be also be advantageously paralleled to drive a single wire with appropriate adjusted component values in some alternative embodiments. In one such alternative embodiment, each wire driver slice 910 of FIG. 9 is replaced by, as a numeric example presented without implying a limitation, thirty-two identical wire driver slices receiving the same encoded control signal result. Because the wire driver slices are in parallel, each need drive a much smaller current into the common wire output, thus the transistors of digital drivers 912 may be smaller, and the values of series source resistors 913, 914, 915 will be in this example 32 times larger than required for a single wire driver slice, significantly simplifying implementation in an integrated circuit device.
Similarly, alternative embodiments may utilize any known encoding of the control information passing from encoder 901 through multiplexers (if used) to control digital output drivers with series source resistors, including without limitation unary or thermometer encoding and binary or other weighted-bit encoding.
The embodiment of FIG. 10 shows the same three wire driver design as the previous example, using series source resistors of 300/4 ohms, 300 ohms, and 300 ohms respectively, producing output signal levels of [−1, ⅔, ⅙, −⅙, −⅔, 1].
The embodiment of FIG. 11 incorporates a fourth digital output driver and series source resistor in each wire driver slice, as well as a total of six wire driver slices to drive six wire outputs with signals of [1, ½, ¼, 0, −¼, −½, 1]. The series source resistors used are 400/3 ohms, 400/2 ohms, 400/2 ohms, and 400 ohms.
The embodiment of FIG. 12 also utilizes four digital output drivers per wire driver slice and six wire driver slices to drive six wires with signals of [1, ⅞, ½, ¼, ⅛, −⅛, −¼, −½, −1] using series source resistors of 800/6 ohms, 800/5 ohms, 800/4 ohms, and 800 ohms.
The embodiment of FIG. 13 utilizes only three digital output drivers per slice, but uses eight slices to drive eight wire outputs with signals of [1, ⅘, ⅖, ⅕, −⅕, −⅖, −⅘, −1] using series resistor values of 500/6 ohms, 500/3 ohms, and 500 ohms.
Embodiments
In at least one embodiment, an apparatus comprises a multi-wire bus configured to receive a set of symbols of a codeword, the set of symbols representing a weighted sum of sub-channel code vectors, each sub-channel code vector weighted according to a corresponding antipodal weight of a set of antipodal weights, the set of antipodal weight set containing at least two unique magnitudes, wherein the sub-channel code vectors are mutually orthogonal, and wherein the sub-channel code vectors form a scaled-orthogonal matrix, and a decoder, connected to the multi-wire bus, comprising a plurality of sub-channel comparators configured to generate a respective plurality of comparator output values based on the received set of symbols of the codeword, each comparator comprising a set of chi-normalized input weights, wherein each set of chi-normalized input weights is selected according to a respective sub-channel code vector, and wherein the antipodal weight set is selected such that each subchannel comparator generates antipodal values greater than a minimum value. In some embodiments, the antipodal weight set is selected such that each subchannel comparator generates antipodal values of substantially similar magnitudes.
In at least one embodiment, the set of antipodal weights comprises at least two antipodal weights having distinct magnitudes.
In at least one embodiment, each of the antipodal weights in the set of antipodal weights has a magnitude less than 1.
In at least one embodiment, the set of antipodal weights is based on a codeword symbol normalization constant, μ.
In at least one embodiment, the codeword symbol normalization constant normalizes the symbols of the codeword to values having magnitudes less than or equal to 1.
In at least one embodiment, a sum of the antipodal weights in the set of antipodal weights is maximized according to the antipodal value corresponding a minimum vertical opening threshold. In at least one embodiment, the sum of the antipodal weights in the set of antipodal weights is also maximized according to the codeword symbol normalization constant μ.
In at least one embodiment, the antipodal value is greater than a predetermined vertical opening threshold, δ.
As shown in FIG. 14, a method 1400 in accordance with at least one embodiment comprises receiving, at step 1402, a set of symbols of a codeword on a multi-wire bus, the set of symbols representing a weighted sum of sub-channel code vectors, each sub-channel code vector weighted based on a corresponding antipodal weight of a set of antipodal weights, wherein the sub-channel code vectors are mutually orthogonal, and wherein the sub-channel code vectors form a scaled-orthogonal matrix, and generating, at step 1404, a plurality of comparator output values based on the received set of symbols of the codeword using a plurality of sub-channel comparators, wherein each sub-channel comparator comprises a set of chi-normalized input weights, each set of chi-normalized input weights selected according to a respective sub-channel code vector, and wherein each comparator output value is represented as an antipodal value.
In at least one embodiment, the set of antipodal weights comprises at least two antipodal weights having distinct magnitudes.
In at least one embodiment, each of the antipodal weights in the set of antipodal weights has a magnitude less than 1.
In at least one embodiment, the set of antipodal weights is based on a codeword symbol normalization constant, μ.
In at least one embodiment, the codeword symbol normalization constant t normalizes the symbols of the codeword to values having magnitudes less than or equal to 1.
In at least one embodiment, the antipodal value is greater than a predetermined vertical opening threshold, δ.
As shown in FIG. 15, a method 1500 in accordance with at least one embodiment comprises receiving, at step 1502, a vector corresponding to a set of antipodal weights, generating, at step 1504, a set of symbols of a codeword, the codeword representing a weighted sum of a plurality of sub-channel vectors, wherein a weighting of each sub-channel vector is determined by a corresponding antipodal weight of the set of antipodal weights, and wherein the plurality of sub-channel vectors form a scaled-orthogonal matrix, and, transmitting, at step 1506, the set of symbols of the codeword on a multi-wire bus.
In at least one embodiment, the scaled-orthogonal matrix is represented as
    M =  (    1   1   1     1    - 1    0     1   1    - 2     )     
and the vector corresponding to the set of antipodal weights is represented as (0,±⅗,±⅖).

In at least one embodiment, the scaled-orthogonal matrix is represented as
    M =  (    1   1   1   1   1     1    - 1    0   0   0     0   0   1    - 1    0     1   1    - 1     - 1    0     1   1   1   1    - 4     )     
and the vector corresponding to the set of antipodal weights is represented as (0, ± 5/12, ± 5/12, ± 5/12, ±⅙).

In at least one embodiment, the scaled-orthogonal matrix is represented as
    M =  (    1   1   1   1   1   1     1    - 1    0   0   0   0     0   0   1    - 1    0   0     0   0   0   0   1    - 1      1   1    - 1     - 1    0   0     1   1   1   1    - 2     - 2     )     
and the vector corresponding to the set of antipodal weights is represented as (0, ±⅜, ±⅜, ±½, ±⅜, ±¼).

In at least one embodiment, the scaled-orthogonal matrix is represented as
    M =  (    1   1   1   1   1   1     1    - 1    0   0   0   0     1   1    - 2    0   0   0     0   0   0   1    - 1    0     0   0   0   1   1    - 2      1   1   1    - 1     - 1     - 1     )     
and the vector corresponding to the set of antipodal weights is represented as (0, ±⅜, ±¼, ±⅜, ±¼, ±⅜).

In at least one embodiment, the scaled-orthogonal matrix is represented as
    M =  (    1   1   1   1   1   1   1   1   1     1    - 1    0   0   0   0   0   0   0     0   0   1    - 1    0   0   0   0   0     0   0   0   0   1    - 1    0   0   0     0   0   0   0   0   0   1    - 1    0     1   1    - 1     - 1    0   0   0   0   0     0   0   0   0   1   1    - 1     - 1    0     1   1   1   1    - 1     - 1     - 1     - 1    0     1   1   1   1   1   1   1   1    - 8     )     
and the vector corresponding to the set of antipodal weights is represented as (0,± 3/10,± 3/10,± 3/10,± 3/10,± 3/10,± 3/10,± 3/10,± 1/10).

We claim:
 
1. A method comprising:
receiving a set of input bits;
generating a plurality of symbols of a codeword of a vector signaling code, the codeword representing a weighted summation of a plurality of mutually orthogonal sub-channel vectors, the plurality of mutually orthogonal sub-channel vectors weighted by a set of weights determined according to
(i) a set of chi-normalization constants and
(ii) a predetermined minimum vertical opening threshold δ, each mutually orthogonal sub-channel vector of the plurality of mutually orthogonal sub-channel vectors further weighted by a corresponding bit of the set of input bits; and transmitting each symbol of the codeword as a signal over a respective wire of a multi-wire bus.



  
2. The method of claim 1, wherein the set of weights comprises pairs of antipodal weights.

  
3. The method of claim 2, wherein at least two pairs of antipodal weights of the pairs of antipodal weights have different magnitudes.

  
4. The method of claim 1, wherein the symbols of the codeword comprise at least three distinct magnitudes.

  
5. The method of claim 1, wherein each chi-normalization constant is associated with a respective sub-channel vector of the plurality of mutually orthogonal sub-channel vectors.

  
6. The method of claim 1, wherein each weight of the set of weights is combined with a corresponding bit of the set of input bits to form an optimal initial code set vector.

  
7. The method of claim 6, wherein the optimal initial code set vector is represented as [0 ±⅜, ±⅜, ±½, ±⅜, ±¼], and is combined with an encoding matrix M comprising the plurality of mutually orthogonal sub-channel vectors:




M
=


(



1


1


1


1


1


1




1



-
1



0


0


0


0




1


1



-
2



0


0


0




0


0


0


1



-
1



0




0


0


0


1


1



-
2





1


1


1



-
1




-
1




-
1




)

.






  
8. The method of claim 1, further comprising:
receiving the set of symbols of the codeword at a plurality of multi-input comparators (MICs); and
generating a plurality of comparator output values, each comparator output value generated by forming a respective weighted combination of two or more symbols of the codeword according to a respective chi-normalized sub-channel vector of a set of chi-normalized sub-channel vectors.


  
9. The method of claim 8, wherein each comparator output value is a respective antipodal value greater than or equal to the predetermined minimum vertical opening threshold δ.

  
10. The method of claim 8, wherein each comparator output value has an antipodal value equal to the predetermined minimum vertical opening threshold δ.

  
11. An apparatus comprising:
An encoder configured to
receive a set of input bits, and to responsively
generate a plurality of symbols of a codeword of a vector signaling code, the codeword representing a weighted summation of a plurality of mutually orthogonal sub-channel vectors, the plurality of mutually orthogonal sub-channel vectors weighted by a set of weights determined according to
(i) a set of chi-normalization constants and
(ii) a predetermined minimum vertical opening threshold δ, each mutually orthogonal sub-channel vector further of the plurality of mutually orthogonal sub-channel vectors weighted by a corresponding bit of the set of input bits; and

a plurality of drivers configured to transmit each symbol of the codeword as a signal over a respective wire of a multi-wire bus.



  
12. The apparatus of claim 11, wherein the set of weights comprises pairs of antipodal weights.

  
13. The apparatus of claim 12, wherein at least two pairs of antipodal weights of the pairs of antipodal weights have different magnitudes.

  
14. The apparatus of claim 11, wherein the symbols of the codeword comprise at least three distinct magnitudes.

  
15. The apparatus of claim 11, wherein each chi-normalization constant is associated with a respective sub-channel vector of the plurality of mutually orthogonal sub-channel vectors.

  
16. The apparatus of claim 11, wherein each weight of the set of weights is combined with a corresponding bit of the set of input bits to form an optimal initial code set vector.

  
17. The apparatus of claim 16, wherein the optimal initial code set vector is represented as [0 ±⅜, ±⅜, ±½, ±⅜, ±¼], and is combined with an encoding matrix M comprising the plurality of mutually-orthogonal sub-channel vectors:




M
=


(



1


1


1


1


1


1




1



-
1



0


0


0


0




1


1



-
2



0


0


0




0


0


0


1



-
1



0




0


0


0


1


1



-
2





1


1


1



-
1




-
1




-
1




)

.






  
18. The apparatus of claim 11, further comprising a plurality of multi-input comparators (MICs) configured to receive the set of symbols of the codeword, and to generate a plurality of comparator output values, each comparator output value generated by forming a respective weighted combination of two or more symbols of the codeword according to a respective chi-normalized sub-channel vector of a set of chi-normalized sub-channel vectors.

  
19. The apparatus of claim 18, wherein each comparator output value is a respective antipodal value greater than or equal to the predetermined minimum vertical opening threshold δ.

  
20. The apparatus of claim 18, wherein each comparator output value has an antipodal value equal to the predetermined minimum vertical opening threshold δ.
Source: [EP0039434A1](https://patents.google.com/patent/EP0039434A1)

# [EP0039434A1](EP0039434A1.md) - Vorrichtung zum Speichern von Signalen

## Details

* Date: 1980-05-02
* Inventor: Siemens AG
* Beneficiary: Klaus Buchner, Ulrich Dipl.-Ing. Saugeon

## Other patents

### Backwards
 * US3800289A
 * US3995253A
 * [US4111055A](US4111055A.md)
 * EP0002061A1
 * DE2912410A1
 * EP0005432A1
### Forward
 * EP0123411A1
 * EP0176038A1
 * EP0288115A1
## Abstract

Abstract

Die Erfindung bezieht sich auf eine Vorrichtung zum Speichern von Signalen, insbesondere Ultraschallsignalen, mit einem Signalspeicher mit Signaleingängen zum Einspeichern der Signale und Signalausgängen zum Auslesen der gespeicherten Signale, vorzugsweise zu einem Aufzeichnungsgerät. Ziel der Erfindung ist es, eine Vorrichtung aufzubauen, die mit einem rasch arbeitenden Speicher versehen ist, der zugleich höchste Flexibilität in der Adressierung ermöglicht. Dieses Ziel wird erfindungsgemäß dadurch erreicht, daß die an den Signaleingängen (D1 bis D8) des Signalspeichers (11) anfallenden Signale in Kanalabschnitte (A1 bis A4 bzw. B1 bis B4) aufgeteilt sind und daß zeitlich nacheinander anfallende Kanalabschnitte jeweils in Parallelformation in Abschnittsadressen (21 bis 28) des Signalspeichers (11) einspeicherbar sind und daß die Abschnittsadressen zeitlich nacheinander orthogonal wieder auslesbar sind in solcher Reihenfolge, daß sich in Zusammensetzung wieder die Ursprungssignale ergeben.



Die Erfindung bezieht sich auf eine Vorrichtung zum Speichern von Signalen, insbesondere Ultraschallsignalen, mit einem Signalspeicher mit Signaleingängen zum Einspeichern der Signale und Signalausgängen zum Auslesen der gespeicherten Signale, vorzugsweise zu einem Aufzeichnungsgerät. Ziel der Erfindung ist es, eine Vorrichtung aufzubauen, die mit einem rasch arbeitenden Speicher versehen ist, der zugleich höchste Flexibilität in der Adressierung ermöglicht. Dieses Ziel wird erfindungsgemäß dadurch erreicht, daß die an den Signaleingängen (D1 bis D8) des Signalspeichers (11) anfallenden Signale in Kanalabschnitte (A1 bis A4 bzw. B1 bis B4) aufgeteilt sind und daß zeitlich nacheinander anfallende Kanalabschnitte jeweils in Parallelformation in Abschnittsadressen (21 bis 28) des Signalspeichers (11) einspeicherbar sind und daß die Abschnittsadressen zeitlich nacheinander orthogonal wieder auslesbar sind in solcher Reihenfolge, daß sich in Zusammensetzung wieder die Ursprungssignale ergeben.

Die Erfindung bezieht sich auf eine Vorrichtung zum Speichern von Signalen, insbesondere Ultraschallsignalen, mit einem Signalspeicher mit Signaleingängen zum Einspeichern der Signale und Signalausgängen zum Auslesen der gespeicherten Signale, vorzugsweise zu einem Aufzeichnungsgerät. Unter den Begriff Signale fallen im weitesten Sinne beliebige Signale, wie z.B. physiologische Signale (EKG etc.), Röntgensignele und insbesondere Ultraschallsignale der Medizin bzw. gleichartige Signale der allgemeinen Technik.
    Es sind bereits eine ganze Reihe von Vorrichtungen dieser Art speziell aus der Ultraschall-Bild-Technik bekannt (z.B. DE-OS 26 19 684, DE-AS 24 17 946, US-PS 41 21 250 oder Aufsatz "A real-time ultrasonic diagnostic system fordynamic and still images: Wireless Echovision" von K.I.Ito et al aus der Zeitschrift JEE, December '77, Seiten 20 bis 26), die mit einem Signalspeicher arbeiten, der in herkömmlicher Weise als Orthogonal-Vollbildspeicher aufgebaut ist. Signifikante Eigenschaft dieser Orthogonal-Speicher ist, daß die anfallenden Signale seriell in den Speicher eingelesen und anschließend orthogonal zur Einleserichtung wieder ausgelesen werden. Das serielle Einlesen führt jedoch erfahrungsgemäß zu relativ langen Bildaufbauzeiten, so daß sich ein Konversionsmodus vom langsamen Ultraschall- bild zum rascheren Sichtbild ergibt, der immer noch nicht hinreichend schnell ist und somit zu Bildflackern führt. Darüber hinaus verlangt der Orthogonal-Speicher herkömmlicher Art auch noch ein relativ starres Adressierschema beim relativ langsamen Einschreiben. Diese Art Speicher ist also hinsichtlich einer erwünschten hohen Variabilität des Einsatzes nicht flexibel genug.
    Aufgabe vorliegender Erfindung ist es, eine Vorrichtung der eingangs genannten Art aufzubauen, die mit einem rascher arbeitenden Speicher versehen ist, der zugleich höchste Flexibilität in der Adressierung ermöglicht.
    Diese Aufgabe wird erfindungsgemäß dadurch gelöst, daß die an den Signaleingängen des Signalspeichers anfallenden Signale in Kanalabschnitte aufgeteilt sind und daß zeitlich nacheinander anfallende Kanalabschnitte jeweils in Parallelformation in Abschnittsadressen des Signalspeichers einspeicherbar sind und daß die Abschnittsadressen zeitlich nacheinander orthogonal wieder auslesbar sind in solcher Reihenfolge, daß sich in Zusammensetzung wieder die Ursprungssignale ergeben.
    Gemäß der Erfindung sind die anfallenden Signale jetzt in Kanalabschnitte aufgeteilt, welche wiederum in Parallelformation in den eigentlichen Signalspeicher eingespeichert werden. Diese Parallelübernahme verkürzt die Einschreibzeit, wodurch sich auch die Bildaufbauzeit verkürzt. Das Bildflackern wird dadurch weitgehend vermieden. Der eingesetzte Signalspeicher ist hinsichtlich der Adressierung beliebig organisierbar. Ein starres Adressierschema, wie es bei herkömmlichen Orthogonal-Speichern der Fall ist, wird also vermieden, so daß der Signalspeicher insgesamt auch vielseitiger anwendbar wird.
    In vorteilhafter Ausgestaltung der Erfindung sind im Signalspeicher die Abschnittsadressen zeitlich aufeinanderfolgender Signale kreuzweise parallel ineinandergeschachtelt in der Weise, daß bei Orthogonal-Auslesung entsprechend der Reihenfolge des Anfallens von Signalabschnitten deren zeitgerechte Aneinanderreihung zu den Formen der Ursprungssignale von selbst erfolgt. Die spezielle Art der kreuzweisen Verschachtelung von Signalabschnitten im Signalspeicher erlaubt ein etwa viermal rascheres Einschreiben von Signalinformation in den Speicher. Dieser Gewinn um den Zeitfaktor vier macht also eine besonders schnelle real-time-Umsetzung möglich.
    In weiterer vorteilhafter Ausbildung der Erfindung sollte das Einschreiben und Auslesen von Signalabschnitten in programmierbarer Formation erfolgen. Hierbei sollte insbesondere der Auslesevorgang so programmierbar sein, daß bestimmte Signalabschnitte zu voneinander unterschiedlichen Darstellungsmodes auslesbar sind. Der Signalspeicher kann dabei insbesondere Ultraschall-Bildspeicher sein, der so programmierbar ist, daß ein einzelnes Ultraschallbild oder mehrere Ultraschallbilder einspeicherbar sind. Bei mehreren Ultraschallbildern sollte die Auslesung nach Programm so erfolgen, daß die Bilder in beliebiger Konfiguration gleichzeitig an einem Bildgerät, insbesondere Kathodenstrahlröhre, darstellbar sind. Eine derartige Darstellform ist mit herkömmlichen Orthogonal-Speichern bei der erwünscht hohen Bildfrequenz nicht möglich.
    Weitere Vorteile und Einzelheiten der Erfindung ergeben sich aus der nachfolgenden Beschreibung eines Ausführungsbeispiels anhand der Zeichnung in Verbindung mit den restlichen Unteransprüchen.
    Es zeigen:
   Fig. 1 die Anwendung der Erfindung bei Ultraschall-Bildgeräten im Prinzipschaltbild, , Fig. 2 die Erfindung im Prinzipschaltbild. 
   In der Fig. 1 ist die Vorrichtung zum Speichern der Ultraschallsignale als Block 1. dargestellt. Dieser Block 1 ist speziell Bestandteil eines Ultraschall-Bildgerätes. Dieses Bildgerät umfaßt demnach in der üblichen Weise einen Ultraschallkopf 2 (z.B. mechanisch verschiebbarer oder schwenkbarer Wandler oder Ultraschall-Array), dem im Takt eines zentralen Taktgebers 3 Hochfrequenzimpulse eines HF-Impulssenders 4 zugeleitet werden. Der Schallkopf strahlt daraufhin Ultraschall-Sendeimpulse in ein Untersuchungsobjekt 5 ab. Bei zeilenweiser Abtastung des Untersuchungsobjektes 5 (z.B. aufgrund mechanischer Verschiebung oder Schwenkung des Schallkopfes 2 oder aufgrund elektronischer Fortschaltung des Strahles entlang den Einzelelementen einer Wandlerelementanordnung wie beim Ultraschall-Array) werden die in ihm an unterschiedlichen internen Punkten reflektierten Ultraschall-Signale vom Ultraschallkopf 2 wieder empfangen und in elektrische Echosignale rückgewandelt. Die Echosignale werden in einem Empfangsverstärker 6 verstärkt und anschließend in die Speichervorrichtung 1 im erfindungsgemäßen Sinne ein- und wieder ausgelesen. Das Auslesen erfolgt zu einer Kathodenstrahlröhre 7 mit Zeilengenerator 8 und Bildgenerator 9 für den Aufbau eines Echosichtbildes. Die Gesamtsteuerung erfolgt mittels einer Steuereinrichtung 10.
    Aufbau und Funktionsweise der Speichervorrichtung 1 werden nun im nachfolgenden anhand des Prinzipschaltbildes der Fig. 2 näher erläutert.
    In der Fig. 2 umfaßt die Speichervorrichtung 1 einen Bildspeicher 11, dem eingangsseitig ein Zeilenspeicher 12 mit Register-Multiplexer 13 vorgeschaltet sind. Ausserdem sind dem Bildspeicher ein Adressenmultiplexer 14 sowie ausgangsseitig ein Datenmultiplexer 15 mit Wechselpufferspeicher 16 zugeordnet.
    Gemäß der Fig. 2 ist der Zeilenspeicher 12 in vier Abschnitte 17 bis 20 unterteilt. Bei seriellem Einlesen jeder Ultraschallzeile Z1 bis Zn stehen also insgesamt vier Zeilenabschnitte A1 bis A4 bzw. B1 bis B4 zur Verfügung, die durch paralleles Auslesen (Kanäle K1 bis K4) über den Register-Multiplexer 13 jetzt unmittelbar als Parallelinformation über die Signaleingänge des Speichers 11 (Datenkanäle D1 bis D8) in geeignete Abschnittsadressen 21 bis 28 eingeschrieben werden können.
    Im Ausführungsbeispiel der Fig. 2 ist der Bildspeicher 11 in 2 x 4 = 8 Abschnittsadressen 21 bis 28 unterteilt. Beispielsweise kann zur Realisierung in diesem Falle eine Speicher-Grundkarte mit 256 x 256 x 8 Bit gewählt werden. Die Teilkapazität aller Abschnittsadressen eines Blockes 21 bis 28 würde somit 128 x 64 Bit betragen.
    Im Ausführungsbeispiel der Fig. 2 sind Ein- und Auslesevorgang am Speicher 11 so programmiert, daß am Eingang des Speichers anfallende Signale kreuzweise parallel ineinandergeschachtelt von einzelnen Abschnittsadressen übernommen werden. Die Auslesung dieser ineinandergeschachtelten Adressen erfolgt so, daß sich bei zeitlicher Aneinanderreihung ausgelesener Abschnitte das ursprüngliche Signal, d.h. im vorliegenden Fall das Ultraschallbild, von selbst ergibt.
    Dieser Vorgang des kreuzweise verschachtelten Einlesens, der besonders hohe Einlesegeschwindigkeiten (gegenüber serieller Einlesung um den Faktor vier vergrößerte Geschwindigkeit) erlaubt, soll anhand eines Beispiels näher erläutert werden, welches speziell ' darauf ausgerichtet ist, wenigstens zwei Ultraschallbilder, die zeitlich nacheinander anfallen, gleichzeitig nebeneinander oder übereinander am Bildschirm einer Oszillographenröhre darzustellen. Der Programmablauf des Einlesens und Wiederauslesens am Speicher 11 ist nun so, daß das in Abschnitten A1 bis A4 unterteilte erste Ultraschallbild A abschnittsweise parallel in die Adressabschnitte 21 bis 24 eingeschrieben wird, was durch Einfügung der Bezeichnungen A1 bis A4 näher gekennzeichnet ist. Entsprechend wird ein unmittelbar darauf anfallendes zweites Ultraschallbild B in Abschnitten B1 bis B4 in die Abschnittsadressen 25 bis 28 des Speichers 11 überführt. Die entsprechenden Adressen sind mit B1 bis B4 gekennzeichnet. Man sieht an diesem Beispiel sehr leicht, daß die Einzelabschnitte A1 bis A4 des einen Ultraschallbildes A mit den Einzelabschnitten B1 bis B4 des zweiten Ultraschallbildes B im Speicher 11 kreuzweise in den Adressen verschachtelt sind. Diese Verschachtelung erlaubt, wie schon vorstehend erwähnt, eine besonders rasche Einspeicherung von Ultraschallbildern in den Speicher. Das Auslesen der kreuzweise verschachtelten Abschnitte A1 bis A4 und B1 bis B4 erfolgt nun jedoch gesteuert vom Adressenmultiplexer 14 (Eingangsadressen AD1, AD2; Ausgangsadressen AD1/2, AD2/1; Adress-Multiplex-Steuersignal AMS) in der Weise, daß in zeitlicher Aufeinanderfolge über einen Kanal-Multiplexer 15 zuerst die Adressenabschnitte A1 bis A4 und anschließend die Adressenabschnitte B1 bis B4 ausgelesen werden. Im vorliegenden Falle erhält man also zuerst das Bild A und anschliessend das Bild B, wie durch die beiden separaten Pfeilausgänge A, B des Kanal-Multiplexers 15 angedeutet ist Die beiden Bilder A und B sind somit wieder getrennt; sie können nach serieller zeilenweiser Auslesung über den ausgangsseitigen Zeilenpuffer 16 (Video-Zeilen Z1' bis Zn') auf ein und derselben Oszillographenröhre 7 direkt nebeneinander abgebildet werden.
    Es versteht sich von selbst, daß durch entsprechende andersartige Programmierung der Ablaufsteuerung auch ein Ineinander- oder Übereinanderschreiben der beiden Bilder möglich ist. Ebensogut kann der Ablauf auch so programmiert sein, daß mehr als zwei Bilder eingespeichert und gemeinsam am Oszillographen wieder ausgelesen werden. Selbstverständlich ist auch die Umschaltung auf nur ein einziges Bild möglich. Dabei kann ein einzelnes gespeichertes Bild auch beispielsweise mit einem real-time-Bild zusammen dargestellt werden. Am Speicher kann der Einlesevorgang jedoch auch so programmiert sein, daß beispielsweise auch bei Bedarf zeitweise von Parallelübernahme von Signalabschnitten in den Signalspeicher auf serielle Übernahme umgeschaltet wird. Hierdurch verzögert sich zwar der Einlesevorgang. Dafür besteht jedoch die Möglichkeit, Ultraschallbilder unterschiedlicher Art darzustellen. Beispielsweise kann ein B-Bild mit einem TM-Bild dargestellt werden.
    Das beschriebene Ausführungsbeispiel eignet sich besonders gut für den Einsatz bei Parallel-Abtastung von Objekten. Für den Fall nichtparalleler Abtastung, wie z.B. Sektor-, Trapez-, Compound-Abtastung od.dgl., ergibt sich ebenfalls optimaler Einsatz im erfindungsgemäßen Sinne, wenn der Speicher in einfacher Weise hinsichtlich der Adressierung in Anpassung an den geänderten Anwendungsfall umorganisiert wird (nach vorgebbaren Winkelfunktionen programmierbar variable Kanalabschnitte und entsprechend geeignete Adressierung im Signalspeicher).

1. Vorrichtung zum Speichern von Signalen, insbesondere Ultraschallsignalen, mit einem Signalspeicher mit Signaleingängen zum Einspeichern der Signale und Signalausgängen zum Auslesen der gespeicherten Signale, vorzugsweise zu einem Aufzeichnungsgerät, dadurch gekennzeichnet , daß die an den Signaleingängen (D1 bis D8) des Signalspeichers (11) anfallenden Signale in Kanalabschnitte (A1 bis A4 bzw. B1 bis B4) aufgeteilt sind und daß zeitlich nacheinander anfallende Kanalabschnitte jeweils in Parallelformation in Abschnittsadressen (21 bis 28) des Signalspeichers (11) einspeicherbar sind und daß die Abschnittsadressen zeitlich nacheinander orthogonal wieder auslesbar sind in solcher Reihenfolge, daß sich in.Zusammensetzung wieder die Ursprungssignale ergeben.

  
2. Vorrichtung nach Anspruch 1, dadurch gekennzeichnet, daß im Signalspeicher (11) die Abschnittsadresen (21 bis 28) zeitlich aufeinanderfolgender Signale kreuzweise parallel ineinandergeschachtelt sind in der Weise, daß bei Orthogonal-Auslesung entsprechend der Reihenfolge des Anfallens von Signalabschnitten (A1 bis A4; B1 bis B4) deren zeitgerechte Aneinanderreihung zu den Formen der Ursprungssignale von selbst erfolgt.

  
3. Vorrichtung nach Anspruch 1 oder 2, dadurch gekennzeichnet , daß die Aufteilung der Signale in Kanalabschnitte (A1 bis A4; B1 bis B4) mittels Zeilenspeicher (12) erfolgt, in den die Signale seriell eingelesen und abschnittsweise parallel über einen Register-Multiplexer (13) zum Signalspeicher (11) wieder ausgelesen werden.

  
4. Vorrichtung nach einem der Ansprüche 1 bis 3, dadurch gekennzeichnet , daß das Auslesen der Abschnittsadressen über einen Datenmultiplexer (15) mit anschließendem Wechselpufferspeicher (16) erfolgt.

  
5. Vorrichtung nach einem der Ansprüche 1 bis 4, dadurch gekennzeichnet, daß das Einschreiben und Auslesen von Signalabschnitten in programmierbarer Formation erfolgt.

  
6. Vorrichtung nach Anspruch 5, dadurch gekennzeichnet, daß der Einlesevorgang so programmiert ist, daß beispielsweise auch bei Bedarf zeitweise von Parallelübernahme von Signalabschnitten in den Signalspeicher (11) auf serielle Übernahme umgeschaltet werden kann.

  
7. Vorrichtung nach Anspruch 5 oder 6, dadurch gekennzeichnet , daß der Auslesevorgang so programmierbar ist, daß bestimmte Signalabschnitte zu voneinander unterschiedlichen Darstellungsmodes auslesbar sind.

  
8. Vorrichtung nach Anspruch 7, dadurch gekennzeichnet, daß unterschiedliche Signale oder Signalformen in Abschnitten im Bildspeicher speicherbar sind, die einzeln oder in Kombinationen miteinander im gleichen Darstellungsmode oder in unterschiedlichen Darstellungsmodes auslesbar sind.

  
9. Vorrichtung nach einem der Ansprüche 1 bis 8, dadurch gekennzeichnet , daß der Signalspeicher (11) ein Ultraschallbild-Speicher ist, der so programmierbar ist, daß ein einzelnes Ultraschall- bild oder mehrere Ultraschallbilder einspeicherbar sind.

  
10. Vorrichtung nach Anspruch 9, dadurch gekennzeichnet , daß bei mehreren Ultraschallbildern die Auslesung nach Programm so erfolgt, daß die Bilder in beliebiger Konfiguration zueinander gleichzeitig an einem Bildgerät, insbesondere Kathodenstrahlröhre, darstellbar sind.

  
11. Vorrichtung nach Anspruch 10, dadurch gekennzeichnet , daß wenigstens zwei Bilder neben- oder übereinander darstellbar sind.

  
12. Vorrichtung nach Anspruch 10 oder 11, dadurch gekennzeichnet , daß bei Darstellung von wenigstens zwei Bildern eines ein gespeichertes Bild und das andere ein real-time-Bild ist.

  
13. Vorrichtung nach einem der Ansprüche 9 bis 12, dadurch gekennzeichnet , daß wenigstens ein B-Bild mit einem TM-Bild gleichzeitig darstellbar ist.